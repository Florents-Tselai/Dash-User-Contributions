<!DOCTYPE html>

<html class="no-js" data-content_root="./" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="light dark" name="color-scheme"/><meta content="width=device-width, initial-scale=1" name="viewport">
<link href="genindex.html" rel="index" title="Index"/><link href="search.html" rel="search" title="Search"/><link href="cli-reference.html" rel="next" title="CLI reference"/><link href="plugins.html" rel="prev" title="Plugins"/>
<!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
<script data-domain="sqlite-utils.datasette.io" defer="" src="https://plausible.io/js/plausible.js"></script>
<title>API reference - sqlite-utils</title>
<link href="_static/pygments.css?v=fa44fd50" rel="stylesheet" type="text/css"/>
<link href="_static/styles/furo.css?v=135e06be" rel="stylesheet" type="text/css"/>
<link href="_static/copybutton.css?v=76b2166b" rel="stylesheet" type="text/css"/>
<link href="_static/styles/furo-extensions.css?v=36a5483c" rel="stylesheet" type="text/css"/>
<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></meta></head>
<body>
<script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
<symbol id="svg-toc" viewbox="0 0 24 24">
<title>Contents</title>
<svg fill="currentColor" stroke="currentColor" stroke-width="0" viewbox="0 0 1024 1024">
<path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"></path>
</svg>
</symbol>
<symbol id="svg-menu" viewbox="0 0 24 24">
<title>Menu</title>
<svg class="feather-menu" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<line x1="3" x2="21" y1="12" y2="12"></line>
<line x1="3" x2="21" y1="6" y2="6"></line>
<line x1="3" x2="21" y1="18" y2="18"></line>
</svg>
</symbol>
<symbol id="svg-arrow-right" viewbox="0 0 24 24">
<title>Expand</title>
<svg class="feather-chevron-right" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<polyline points="9 18 15 12 9 6"></polyline>
</svg>
</symbol>
<symbol id="svg-sun" viewbox="0 0 24 24">
<title>Light mode</title>
<svg class="feather-sun" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="5"></circle>
<line x1="12" x2="12" y1="1" y2="3"></line>
<line x1="12" x2="12" y1="21" y2="23"></line>
<line x1="4.22" x2="5.64" y1="4.22" y2="5.64"></line>
<line x1="18.36" x2="19.78" y1="18.36" y2="19.78"></line>
<line x1="1" x2="3" y1="12" y2="12"></line>
<line x1="21" x2="23" y1="12" y2="12"></line>
<line x1="4.22" x2="5.64" y1="19.78" y2="18.36"></line>
<line x1="18.36" x2="19.78" y1="5.64" y2="4.22"></line>
</svg>
</symbol>
<symbol id="svg-moon" viewbox="0 0 24 24">
<title>Dark mode</title>
<svg class="icon-tabler-moon" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
</svg>
</symbol>
<symbol id="svg-sun-half" viewbox="0 0 24 24">
<title>Auto light/dark mode</title>
<svg class="icon-tabler-shadow" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M0 0h24v24H0z" fill="none" stroke="none"></path>
<circle cx="12" cy="12" r="9"></circle>
<path d="M13 12h5"></path>
<path d="M13 15h4"></path>
<path d="M13 18h1"></path>
<path d="M13 9h4"></path>
<path d="M13 6h1"></path>
</svg>
</symbol>
</svg>
<input class="sidebar-toggle" id="__navigation" name="__navigation" type="checkbox"/>
<input class="sidebar-toggle" id="__toc" name="__toc" type="checkbox"/>
<label class="overlay sidebar-overlay" for="__navigation">
<div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
<div class="visually-hidden">Hide table of contents sidebar</div>
</label>
<div class="page">
<header class="mobile-header">
<div class="header-left">
<label class="nav-overlay-icon" for="__navigation">
<div class="visually-hidden">Toggle site navigation sidebar</div>
<i class="icon"><svg><use href="#svg-menu"></use></svg></i>
</label>
</div>
<div class="header-center">
<a href="index.html"><div class="brand">sqlite-utils</div></a>
</div>
<div class="header-right">
<div class="theme-toggle-container theme-toggle-header">
<button class="theme-toggle">
<div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
<svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
<svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
<svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
</button>
</div>
<label class="toc-overlay-icon toc-header-icon" for="__toc">
<div class="visually-hidden">Toggle table of contents sidebar</div>
<i class="icon"><svg><use href="#svg-toc"></use></svg></i>
</label>
</div>
</header>
<aside class="sidebar-drawer">
<div class="sidebar-container">
<div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
<span class="sidebar-brand-text">sqlite-utils</span>
</a><form action="search.html" class="sidebar-search-container" method="get" role="search">
<input aria-label="Search" class="sidebar-search" name="q" placeholder="Search"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">sqlite-utils command-line tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-api.html">sqlite_utils Python library</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli-reference.html">CLI reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
</div>
</div>
</div>
</div>
</aside>
<div class="main">
<div class="content">
<div class="article-container">
<a class="back-to-top muted-link" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
</svg>
<span>Back to top</span>
</a>
<div class="content-icon-container">
<div class="theme-toggle-container theme-toggle-content">
<button class="theme-toggle">
<div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
<svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
<svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
<svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
</button>
</div>
<label class="toc-overlay-icon toc-content-icon" for="__toc">
<div class="visually-hidden">Toggle table of contents sidebar</div>
<i class="icon"><svg><use href="#svg-toc"></use></svg></i>
</label>
</div>
<article role="main">
<section id="api-reference">
<a class="dashAnchor" name="//apple_ref/cpp/Section/API reference"></a><span id="reference"></span><h1>API reference<a class="headerlink" href="#api-reference" title="Link to this heading">#</a></h1>
<nav class="contents this-will-duplicate-information-and-it-is-still-useful-here local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#sqlite-utils-db-database" id="id1">sqlite_utils.db.Database</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-db-queryable" id="id2">sqlite_utils.db.Queryable</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-db-table" id="id3">sqlite_utils.db.Table</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-db-view" id="id4">sqlite_utils.db.View</a></p></li>
<li><p><a class="reference internal" href="#other" id="id5">Other</a></p>
<ul>
<li><p><a class="reference internal" href="#sqlite-utils-db-column" id="id6">sqlite_utils.db.Column</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-db-columndetails" id="id7">sqlite_utils.db.ColumnDetails</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#sqlite-utils-utils" id="id8">sqlite_utils.utils</a></p>
<ul>
<li><p><a class="reference internal" href="#sqlite-utils-utils-hash-record" id="id9">sqlite_utils.utils.hash_record</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-utils-rows-from-file" id="id10">sqlite_utils.utils.rows_from_file</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-utils-typetracker" id="id11">sqlite_utils.utils.TypeTracker</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-utils-chunks" id="id12">sqlite_utils.utils.chunks</a></p></li>
<li><p><a class="reference internal" href="#sqlite-utils-utils-flatten" id="id13">sqlite_utils.utils.flatten</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="sqlite-utils-db-database">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.db.Database"></a><span id="reference-db-database"></span><h2><a class="toc-backref" href="#id1" role="doc-backlink">sqlite_utils.db.Database</a><a class="headerlink" href="#sqlite-utils-db-database" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sqlite_utils.db.Database">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlite_utils.db.</span></span><span class="sig-name descname"><span class="pre">Database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename_or_conn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recreate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive_triggers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tracer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_counts_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execute_plugins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L280"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/sqlite_utils.db.Database"></a><a class="headerlink" href="#sqlite_utils.db.Database" title="Link to this definition">#</a></dt>
<dd><p>Wrapper for a SQLite database connection that adds a variety of useful utility methods.</p>
<p>To create an instance:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># create data.db file, or open existing:
db = Database("data.db")
# Create an in-memory database:
dB = Database(memory=True)
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_or_conn</strong> (<em>str</em><em> | </em><em>Path</em><em> | </em><em>Connection</em><em> | </em><em>None</em>) – String path to a file, or a <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code> object, or a
<code class="docutils literal notranslate"><span class="pre">sqlite3</span></code> connection</p></li>
<li><p><strong>memory</strong> (<em>bool</em>) – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to create an in-memory database</p></li>
<li><p><strong>memory_name</strong> (<em>str</em><em> | </em><em>None</em>) – creates a named in-memory database that can be shared across multiple connections</p></li>
<li><p><strong>recreate</strong> (<em>bool</em>) – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to delete and recreate a file database (<strong>dangerous</strong>)</p></li>
<li><p><strong>recursive_triggers</strong> (<em>bool</em>) – defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>, which sets <code class="docutils literal notranslate"><span class="pre">PRAGMA</span> <span class="pre">recursive_triggers=on;</span></code> -
set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to avoid setting this pragma</p></li>
<li><p><strong>tracer</strong> (<em>Callable</em><em> | </em><em>None</em>) – set a tracer function (<code class="docutils literal notranslate"><span class="pre">print</span></code> works for this) which will be called with
<code class="docutils literal notranslate"><span class="pre">sql,</span> <span class="pre">parameters</span></code> every time a SQL query is executed</p></li>
<li><p><strong>use_counts_table</strong> (<em>bool</em>) – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to use a cached counts table, if available. See
<a class="reference internal" href="python-api.html#python-api-cached-table-counts"><span class="std std-ref">Cached table counts using triggers</span></a></p></li>
<li><p><strong>execute_plugins</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L351"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.close"></a><a class="headerlink" href="#sqlite_utils.db.Database.close" title="Link to this definition">#</a></dt>
<dd><p>Close the SQLite connection, and the underlying database file</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.ensure_autocommit_off">
<span class="sig-name descname"><span class="pre">ensure_autocommit_off</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L356"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.ensure_autocommit_off"></a><a class="headerlink" href="#sqlite_utils.db.Database.ensure_autocommit_off" title="Link to this definition">#</a></dt>
<dd><p>Ensure autocommit is off for this database connection.</p>
<p>Example usage:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>with db.ensure_autocommit_off():
    # do stuff here
</pre></div>
</div>
<p>This will reset to the previous autocommit state at the end of the block.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.tracer">
<span class="sig-name descname"><span class="pre">tracer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tracer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L375"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.tracer"></a><a class="headerlink" href="#sqlite_utils.db.Database.tracer" title="Link to this definition">#</a></dt>
<dd><p>Context manager to temporarily set a tracer function - all executed SQL queries will
be passed to this.</p>
<p>The tracer function should accept two arguments: <code class="docutils literal notranslate"><span class="pre">sql</span></code> and <code class="docutils literal notranslate"><span class="pre">parameters</span></code></p>
<p>Example usage:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>with db.tracer(print):
    db["creatures"].insert({"name": "Cleo"})
</pre></div>
</div>
<p>See <a class="reference internal" href="python-api.html#python-api-tracing"><span class="std std-ref">Tracing queries</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tracer</strong> (<em>Callable</em><em> | </em><em>None</em>) – Callable accepting <code class="docutils literal notranslate"><span class="pre">sql</span></code> and <code class="docutils literal notranslate"><span class="pre">parameters</span></code> arguments</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L398"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.__getitem__"></a><a class="headerlink" href="#sqlite_utils.db.Database.__getitem__" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">db[table_name]</span></code> returns a <a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> object for the table with the specified name.
If the table does not exist yet it will be created the first time data is inserted into it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table_name</strong> (<em>str</em>) – The name of the table</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a> | <a class="reference internal" href="#sqlite_utils.db.View" title="sqlite_utils.db.View"><em>View</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.register_function">
<span class="sig-name descname"><span class="pre">register_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deterministic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L410"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.register_function"></a><a class="headerlink" href="#sqlite_utils.db.Database.register_function" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">fn</span></code> will be made available as a function within SQL, with the same name and number
of arguments. Can be used as a decorator:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>@db.register_function
def upper(value):
    return str(value).upper()
</pre></div>
</div>
<p>The decorator can take arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>@db.register_function(deterministic=True, replace=True)
def upper(value):
    return str(value).upper()
</pre></div>
</div>
<p>See <a class="reference internal" href="python-api.html#python-api-register-function"><span class="std std-ref">Registering custom SQL functions</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fn</strong> (<em>Callable</em><em> | </em><em>None</em>) – Function to register</p></li>
<li><p><strong>deterministic</strong> (<em>bool</em>) – set <code class="docutils literal notranslate"><span class="pre">True</span></code> for functions that always returns the same output for a given input</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – set <code class="docutils literal notranslate"><span class="pre">True</span></code> to replace an existing function with the same name - otherwise throw an error</p></li>
<li><p><strong>name</strong> (<em>str</em><em> | </em><em>None</em>) – name of the SQLite function - if not specified, the Python function name will be used</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.register_fts4_bm25">
<span class="sig-name descname"><span class="pre">register_fts4_bm25</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L466"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.register_fts4_bm25"></a><a class="headerlink" href="#sqlite_utils.db.Database.register_fts4_bm25" title="Link to this definition">#</a></dt>
<dd><p>Register the <code class="docutils literal notranslate"><span class="pre">rank_bm25(match_info)</span></code> function used for calculating relevance with SQLite FTS4.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.attach">
<span class="sig-name descname"><span class="pre">attach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alias</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L470"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.attach"></a><a class="headerlink" href="#sqlite_utils.db.Database.attach" title="Link to this definition">#</a></dt>
<dd><p>Attach another SQLite database file to this connection with the specified alias, equivalent to:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ATTACH DATABASE 'filepath.db' AS alias
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alias</strong> (<em>str</em>) – Alias name to use</p></li>
<li><p><strong>filepath</strong> (<em>str</em><em> | </em><em>Path</em>) – Path to SQLite database file on disk</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.query">
<span class="sig-name descname"><span class="pre">query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L486"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.query"></a><a class="headerlink" href="#sqlite_utils.db.Database.query" title="Link to this definition">#</a></dt>
<dd><p>Execute <code class="docutils literal notranslate"><span class="pre">sql</span></code> and return an iterable of dictionaries representing each row.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sql</strong> (<em>str</em>) – SQL query to execute</p></li>
<li><p><strong>params</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – Parameters to use in that query - an iterable for <code class="docutils literal notranslate"><span class="pre">where</span> <span class="pre">id</span> <span class="pre">=</span> <span class="pre">?</span></code>
parameters, or a dictionary for <code class="docutils literal notranslate"><span class="pre">where</span> <span class="pre">id</span> <span class="pre">=</span> <span class="pre">:id</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Generator</em>[dict, None, None]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L501"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.execute"></a><a class="headerlink" href="#sqlite_utils.db.Database.execute" title="Link to this definition">#</a></dt>
<dd><p>Execute SQL query and return a <code class="docutils literal notranslate"><span class="pre">sqlite3.Cursor</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sql</strong> (<em>str</em>) – SQL query to execute</p></li>
<li><p><strong>parameters</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – Parameters to use in that query - an iterable for <code class="docutils literal notranslate"><span class="pre">where</span> <span class="pre">id</span> <span class="pre">=</span> <span class="pre">?</span></code>
parameters, or a dictionary for <code class="docutils literal notranslate"><span class="pre">where</span> <span class="pre">id</span> <span class="pre">=</span> <span class="pre">:id</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Cursor</em></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.executescript">
<span class="sig-name descname"><span class="pre">executescript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sql</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L518"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.executescript"></a><a class="headerlink" href="#sqlite_utils.db.Database.executescript" title="Link to this definition">#</a></dt>
<dd><p>Execute multiple SQL statements separated by ; and return the <code class="docutils literal notranslate"><span class="pre">sqlite3.Cursor</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sql</strong> (<em>str</em>) – SQL to execute</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Cursor</em></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.table">
<span class="sig-name descname"><span class="pre">table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L528"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.table"></a><a class="headerlink" href="#sqlite_utils.db.Database.table" title="Link to this definition">#</a></dt>
<dd><p>Return a table object, optionally configured with default options.</p>
<p>See <a class="reference internal" href="#reference-db-table"><span class="std std-ref">sqlite_utils.db.Table</span></a> for option details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>table_name</strong> (<em>str</em>) – Name of the table</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a> | <a class="reference internal" href="#sqlite_utils.db.View" title="sqlite_utils.db.View"><em>View</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.quote">
<span class="sig-name descname"><span class="pre">quote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L539"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.quote"></a><a class="headerlink" href="#sqlite_utils.db.Database.quote" title="Link to this definition">#</a></dt>
<dd><p>Apply SQLite string quoting to a value, including wrappping it in single quotes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>str</em>) – String to quote</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.quote_fts">
<span class="sig-name descname"><span class="pre">quote_fts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L554"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.quote_fts"></a><a class="headerlink" href="#sqlite_utils.db.Database.quote_fts" title="Link to this definition">#</a></dt>
<dd><p>Escape special characters in a SQLite full-text search query.</p>
<p>This works by surrounding each token within the query with double
quotes, in order to avoid words like <code class="docutils literal notranslate"><span class="pre">NOT</span></code> and <code class="docutils literal notranslate"><span class="pre">OR</span></code> having
special meaning as defined by the FTS query syntax here:</p>
<p><a class="reference external" href="https://www.sqlite.org/fts5.html#full_text_query_syntax">https://www.sqlite.org/fts5.html#full_text_query_syntax</a></p>
<p>If the query has unbalanced <code class="docutils literal notranslate"><span class="pre">"</span></code> characters, adds one at end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> (<em>str</em>) – String to escape</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.quote_default_value">
<span class="sig-name descname"><span class="pre">quote_default_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L576"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.quote_default_value"></a><a class="headerlink" href="#sqlite_utils.db.Database.quote_default_value" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>str</em>) – </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.table_names">
<span class="sig-name descname"><span class="pre">table_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fts4</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fts5</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L594"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.table_names"></a><a class="headerlink" href="#sqlite_utils.db.Database.table_names" title="Link to this definition">#</a></dt>
<dd><p>List of string table names in this database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fts4</strong> (<em>bool</em>) – Only return tables that are part of FTS4 indexes</p></li>
<li><p><strong>fts5</strong> (<em>bool</em>) – Only return tables that are part of FTS5 indexes</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.view_names">
<span class="sig-name descname"><span class="pre">view_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L609"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.view_names"></a><a class="headerlink" href="#sqlite_utils.db.Database.view_names" title="Link to this definition">#</a></dt>
<dd><p>List of string view names in this database.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.tables">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><span class="pre">Table</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L619"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.tables"></a><a class="headerlink" href="#sqlite_utils.db.Database.tables" title="Link to this definition">#</a></dt>
<dd><p>List of Table objects in this database.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.views">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">views</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlite_utils.db.View" title="sqlite_utils.db.View"><span class="pre">View</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L624"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.views"></a><a class="headerlink" href="#sqlite_utils.db.Database.views" title="Link to this definition">#</a></dt>
<dd><p>List of View objects in this database.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.triggers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">triggers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Trigger</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L629"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.triggers"></a><a class="headerlink" href="#sqlite_utils.db.Database.triggers" title="Link to this definition">#</a></dt>
<dd><p>List of <code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">table_name,</span> <span class="pre">sql)</span></code> tuples representing triggers in this database.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.triggers_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">triggers_dict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L639"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.triggers_dict"></a><a class="headerlink" href="#sqlite_utils.db.Database.triggers_dict" title="Link to this definition">#</a></dt>
<dd><p>A <code class="docutils literal notranslate"><span class="pre">{trigger_name:</span> <span class="pre">sql}</span></code> dictionary of triggers in this database.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.schema">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">schema</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L644"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.schema"></a><a class="headerlink" href="#sqlite_utils.db.Database.schema" title="Link to this definition">#</a></dt>
<dd><p>SQL schema for this database.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.supports_strict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports_strict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L657"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.supports_strict"></a><a class="headerlink" href="#sqlite_utils.db.Database.supports_strict" title="Link to this definition">#</a></dt>
<dd><p>Does this database support STRICT mode?</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.sqlite_version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sqlite_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L671"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.sqlite_version"></a><a class="headerlink" href="#sqlite_utils.db.Database.sqlite_version" title="Link to this definition">#</a></dt>
<dd><p>Version of SQLite, as a tuple of integers for example <code class="docutils literal notranslate"><span class="pre">(3,</span> <span class="pre">36,</span> <span class="pre">0)</span></code>.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.journal_mode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">journal_mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L677"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Database.journal_mode"></a><a class="headerlink" href="#sqlite_utils.db.Database.journal_mode" title="Link to this definition">#</a></dt>
<dd><p>Current <code class="docutils literal notranslate"><span class="pre">journal_mode</span></code> of this database.</p>
<p><a class="reference external" href="https://www.sqlite.org/pragma.html#pragma_journal_mode">https://www.sqlite.org/pragma.html#pragma_journal_mode</a></p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.enable_wal">
<span class="sig-name descname"><span class="pre">enable_wal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L685"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.enable_wal"></a><a class="headerlink" href="#sqlite_utils.db.Database.enable_wal" title="Link to this definition">#</a></dt>
<dd><p>Sets <code class="docutils literal notranslate"><span class="pre">journal_mode</span></code> to <code class="docutils literal notranslate"><span class="pre">'wal'</span></code> to enable Write-Ahead Log mode.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.disable_wal">
<span class="sig-name descname"><span class="pre">disable_wal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L693"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.disable_wal"></a><a class="headerlink" href="#sqlite_utils.db.Database.disable_wal" title="Link to this definition">#</a></dt>
<dd><p>Sets <code class="docutils literal notranslate"><span class="pre">journal_mode</span></code> back to <code class="docutils literal notranslate"><span class="pre">'delete'</span></code> to disable Write-Ahead Log mode.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.enable_counts">
<span class="sig-name descname"><span class="pre">enable_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L703"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.enable_counts"></a><a class="headerlink" href="#sqlite_utils.db.Database.enable_counts" title="Link to this definition">#</a></dt>
<dd><p>Enable trigger-based count caching for every table in the database, see
<a class="reference internal" href="python-api.html#python-api-cached-table-counts"><span class="std std-ref">Cached table counts using triggers</span></a>.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.cached_counts">
<span class="sig-name descname"><span class="pre">cached_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tables</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L717"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.cached_counts"></a><a class="headerlink" href="#sqlite_utils.db.Database.cached_counts" title="Link to this definition">#</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">{table_name:</span> <span class="pre">count}</span></code> dictionary of cached counts for specified tables, or
all tables if <code class="docutils literal notranslate"><span class="pre">tables</span></code> not provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tables</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Subset list of tables to return counts for.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Dict</em>[str, int]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.reset_counts">
<span class="sig-name descname"><span class="pre">reset_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L732"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.reset_counts"></a><a class="headerlink" href="#sqlite_utils.db.Database.reset_counts" title="Link to this definition">#</a></dt>
<dd><p>Re-calculate cached counts for tables.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.create_table_sql">
<span class="sig-name descname"><span class="pre">create_table_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_not_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L810"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.create_table_sql"></a><a class="headerlink" href="#sqlite_utils.db.Database.create_table_sql" title="Link to this definition">#</a></dt>
<dd><p>Returns the SQL <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> statement for creating the specified table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of table</p></li>
<li><p><strong>columns</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary mapping column names to their types, for example <code class="docutils literal notranslate"><span class="pre">{"name":</span> <span class="pre">str,</span> <span class="pre">"age":</span> <span class="pre">int}</span></code></p></li>
<li><p><strong>pk</strong> (<em>Any</em><em> | </em><em>None</em>) – String name of column to use as a primary key, or a tuple of strings for a compound primary key covering multiple columns</p></li>
<li><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign key definitions for this table</p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List specifying which columns should come first</p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns that should be created as <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code></p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary specifying default values for columns</p></li>
<li><p><strong>hash_id</strong> (<em>str</em><em> | </em><em>None</em>) – Name of column to be used as a primary key containing a hash of the other columns</p></li>
<li><p><strong>hash_id_columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns to be used when calculating the hash ID for a row</p></li>
<li><p><strong>extracts</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List or dictionary of columns to be extracted during inserts, see <a class="reference internal" href="python-api.html#python-api-extracts"><span class="std std-ref">Populating lookup tables automatically during insert/upsert</span></a></p></li>
<li><p><strong>if_not_exists</strong> (<em>bool</em>) – Use <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.create_table">
<span class="sig-name descname"><span class="pre">create_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_not_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L943"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.create_table"></a><a class="headerlink" href="#sqlite_utils.db.Database.create_table" title="Link to this definition">#</a></dt>
<dd><p>Create a table with the specified name and the specified <code class="docutils literal notranslate"><span class="pre">{column_name:</span> <span class="pre">type}</span></code> columns.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-explicit-create"><span class="std std-ref">Explicitly creating a table</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of table</p></li>
<li><p><strong>columns</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary mapping column names to their types, for example <code class="docutils literal notranslate"><span class="pre">{"name":</span> <span class="pre">str,</span> <span class="pre">"age":</span> <span class="pre">int}</span></code></p></li>
<li><p><strong>pk</strong> (<em>Any</em><em> | </em><em>None</em>) – String name of column to use as a primary key, or a tuple of strings for a compound primary key covering multiple columns</p></li>
<li><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign key definitions for this table</p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List specifying which columns should come first</p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns that should be created as <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code></p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary specifying default values for columns</p></li>
<li><p><strong>hash_id</strong> (<em>str</em><em> | </em><em>None</em>) – Name of column to be used as a primary key containing a hash of the other columns</p></li>
<li><p><strong>hash_id_columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns to be used when calculating the hash ID for a row</p></li>
<li><p><strong>extracts</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List or dictionary of columns to be extracted during inserts, see <a class="reference internal" href="python-api.html#python-api-extracts"><span class="std std-ref">Populating lookup tables automatically during insert/upsert</span></a></p></li>
<li><p><strong>if_not_exists</strong> (<em>bool</em>) – Use <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span></code></p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Drop and replace table if it already exists</p></li>
<li><p><strong>ignore</strong> (<em>bool</em>) – Silently do nothing if table already exists</p></li>
<li><p><strong>transform</strong> (<em>bool</em>) – If table already exists transform it to fit the specified schema</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.rename_table">
<span class="sig-name descname"><span class="pre">rename_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1064"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.rename_table"></a><a class="headerlink" href="#sqlite_utils.db.Database.rename_table" title="Link to this definition">#</a></dt>
<dd><p>Rename a table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Current table name</p></li>
<li><p><strong>new_name</strong> (<em>str</em>) – Name to rename it to</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.create_view">
<span class="sig-name descname"><span class="pre">create_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sql</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1077"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.create_view"></a><a class="headerlink" href="#sqlite_utils.db.Database.create_view" title="Link to this definition">#</a></dt>
<dd><p>Create a new SQL view with the specified name - <code class="docutils literal notranslate"><span class="pre">sql</span></code> should start with <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">...</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the view</p></li>
<li><p><strong>sql</strong> (<em>str</em>) – SQL <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> query to use for this view.</p></li>
<li><p><strong>ignore</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to do nothing if a view with this name already exists</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to replace the view if one with this name already exists</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.m2m_table_candidates">
<span class="sig-name descname"><span class="pre">m2m_table_candidates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_table</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1105"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.m2m_table_candidates"></a><a class="headerlink" href="#sqlite_utils.db.Database.m2m_table_candidates" title="Link to this definition">#</a></dt>
<dd><p>Given two table names returns the name of tables that could define a
many-to-many relationship between those two tables, based on having
foreign keys to both of the provided tables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>str</em>) – Table name</p></li>
<li><p><strong>other_table</strong> (<em>str</em>) – Other table name</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.add_foreign_keys">
<span class="sig-name descname"><span class="pre">add_foreign_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">foreign_keys</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1123"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.add_foreign_keys"></a><a class="headerlink" href="#sqlite_utils.db.Database.add_foreign_keys" title="Link to this definition">#</a></dt>
<dd><p>See <a class="reference internal" href="python-api.html#python-api-add-foreign-keys"><span class="std std-ref">Adding multiple foreign key constraints at once</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>]</em>) – A list of  <code class="docutils literal notranslate"><span class="pre">(table,</span> <span class="pre">column,</span> <span class="pre">other_table,</span> <span class="pre">other_column)</span></code>
tuples</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.index_foreign_keys">
<span class="sig-name descname"><span class="pre">index_foreign_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1178"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.index_foreign_keys"></a><a class="headerlink" href="#sqlite_utils.db.Database.index_foreign_keys" title="Link to this definition">#</a></dt>
<dd><p>Create indexes for every foreign key column on every table in the database.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.vacuum">
<span class="sig-name descname"><span class="pre">vacuum</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1189"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.vacuum"></a><a class="headerlink" href="#sqlite_utils.db.Database.vacuum" title="Link to this definition">#</a></dt>
<dd><p>Run a SQLite <code class="docutils literal notranslate"><span class="pre">VACUUM</span></code> against the database.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.analyze">
<span class="sig-name descname"><span class="pre">analyze</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1193"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.analyze"></a><a class="headerlink" href="#sqlite_utils.db.Database.analyze" title="Link to this definition">#</a></dt>
<dd><p>Run <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code> against the entire database or a named table or index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – Run <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code> against this specific named table or index</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.iterdump">
<span class="sig-name descname"><span class="pre">iterdump</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1204"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.iterdump"></a><a class="headerlink" href="#sqlite_utils.db.Database.iterdump" title="Link to this definition">#</a></dt>
<dd><p>A sequence of strings representing a SQL dump of the database</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>Generator</em>[str, None, None]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Database.init_spatialite">
<span class="sig-name descname"><span class="pre">init_spatialite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1216"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Database.init_spatialite"></a><a class="headerlink" href="#sqlite_utils.db.Database.init_spatialite" title="Link to this definition">#</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">init_spatialite</span></code> method will load and initialize the SpatiaLite extension.
The <code class="docutils literal notranslate"><span class="pre">path</span></code> argument should be an absolute path to the compiled extension, which
can be found using <code class="docutils literal notranslate"><span class="pre">find_spatialite</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if SpatiaLite was successfully initialized.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlite_utils.db</span> <span class="kn">import</span> <span class="n">Database</span>
<span class="kn">from</span> <span class="nn">sqlite_utils.utils</span> <span class="kn">import</span> <span class="n">find_spatialite</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="s2">"mydb.db"</span><span class="p">)</span>
<span class="n">db</span><span class="o">.</span><span class="n">init_spatialite</span><span class="p">(</span><span class="n">find_spatialite</span><span class="p">())</span>
</pre></div>
</div>
<p>If you’ve installed SpatiaLite somewhere unexpected (for testing an alternate version, for example)
you can pass in an absolute path:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlite_utils.db</span> <span class="kn">import</span> <span class="n">Database</span>
<span class="kn">from</span> <span class="nn">sqlite_utils.utils</span> <span class="kn">import</span> <span class="n">find_spatialite</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="s2">"mydb.db"</span><span class="p">)</span>
<span class="n">db</span><span class="o">.</span><span class="n">init_spatialite</span><span class="p">(</span><span class="s2">"./local/mod_spatialite.dylib"</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em><em> | </em><em>None</em>) – Path to SpatiaLite module on disk</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>
<section id="sqlite-utils-db-queryable">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.db.Queryable"></a><span id="reference-db-queryable"></span><h2><a class="toc-backref" href="#id2" role="doc-backlink">sqlite_utils.db.Queryable</a><a class="headerlink" href="#sqlite-utils-db-queryable" title="Link to this heading">#</a></h2>
<p><a class="reference internal" href="#reference-db-table"><span class="std std-ref">Table</span></a> and <a class="reference internal" href="#reference-db-view"><span class="std std-ref">View</span></a> are  both subclasses of <code class="docutils literal notranslate"><span class="pre">Queryable</span></code>, providing access to the following methods:</p>
<dl class="py class">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlite_utils.db.</span></span><span class="sig-name descname"><span class="pre">Queryable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1258"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/sqlite_utils.db.Queryable"></a><a class="headerlink" href="#sqlite_utils.db.Queryable" title="Link to this definition">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1259"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Queryable.exists"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.exists" title="Link to this definition">#</a></dt>
<dd><p>Does this table or view exist yet?</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.count_where">
<span class="sig-name descname"><span class="pre">count_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1267"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Queryable.count_where"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.count_where" title="Link to this definition">#</a></dt>
<dd><p>Executes <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">count(*)</span> <span class="pre">FROM</span> <span class="pre">table</span> <span class="pre">WHERE</span> <span class="pre">...</span></code> and returns a count.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>where</strong> (<em>str</em><em> | </em><em>None</em>) – SQL where fragment to use, for example <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code></p></li>
<li><p><strong>where_args</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – Parameters to use with that fragment - an iterable for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code>
parameters, or a dictionary for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">:id</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.count">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1289"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Queryable.count"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.count" title="Link to this definition">#</a></dt>
<dd><p>A count of the rows in this table or view.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.rows">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1294"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Queryable.rows"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.rows" title="Link to this definition">#</a></dt>
<dd><p>Iterate over every dictionaries for each row in this table or view.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.rows_where">
<span class="sig-name descname"><span class="pre">rows_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1298"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Queryable.rows_where"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.rows_where" title="Link to this definition">#</a></dt>
<dd><p>Iterate over every row in this table or view that matches the specified where clause.</p>
<p>Returns each row as a dictionary. See <a class="reference internal" href="python-api.html#python-api-rows"><span class="std std-ref">Listing rows</span></a> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>where</strong> (<em>str</em><em> | </em><em>None</em>) – SQL where fragment to use, for example <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code></p></li>
<li><p><strong>where_args</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – Parameters to use with that fragment - an iterable for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code>
parameters, or a dictionary for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">:id</span></code></p></li>
<li><p><strong>order_by</strong> (<em>str</em><em> | </em><em>None</em>) – Column or fragment of SQL to order by</p></li>
<li><p><strong>select</strong> (<em>str</em>) – Comma-separated list of columns to select - defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code></p></li>
<li><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) – Integer number of rows to limit to</p></li>
<li><p><strong>offset</strong> (<em>int</em><em> | </em><em>None</em>) – Integer for SQL offset</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Generator</em>[dict, None, None]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.pks_and_rows_where">
<span class="sig-name descname"><span class="pre">pks_and_rows_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1336"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Queryable.pks_and_rows_where"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.pks_and_rows_where" title="Link to this definition">#</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">.rows_where()</span></code> but returns <code class="docutils literal notranslate"><span class="pre">(pk,</span> <span class="pre">row)</span></code> pairs - <code class="docutils literal notranslate"><span class="pre">pk</span></code> can be a single value or tuple.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>where</strong> (<em>str</em><em> | </em><em>None</em>) – SQL where fragment to use, for example <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code></p></li>
<li><p><strong>where_args</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – Parameters to use with that fragment - an iterable for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code>
parameters, or a dictionary for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">:id</span></code></p></li>
<li><p><strong>order_by</strong> (<em>str</em><em> | </em><em>None</em>) – Column or fragment of SQL to order by</p></li>
<li><p><strong>select</strong> – Comma-separated list of columns to select - defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code></p></li>
<li><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) – Integer number of rows to limit to</p></li>
<li><p><strong>offset</strong> (<em>int</em><em> | </em><em>None</em>) – Integer for SQL offset</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Generator</em>[<em>Tuple</em>[<em>Any</em>, <em>Dict</em>], None, None]</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.columns">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">columns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#sqlite_utils.db.Column" title="sqlite_utils.db.Column"><span class="pre">Column</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1375"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Queryable.columns"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.columns" title="Link to this definition">#</a></dt>
<dd><p>List of <a class="reference internal" href="#reference-db-other-column"><span class="std std-ref">Columns</span></a> representing the columns in this table or view.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.columns_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">columns_dict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1383"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Queryable.columns_dict"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.columns_dict" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{column_name:</span> <span class="pre">python-type}</span></code> dictionary representing columns in this table or view.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Queryable.schema">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">schema</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1388"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Queryable.schema"></a><a class="headerlink" href="#sqlite_utils.db.Queryable.schema" title="Link to this definition">#</a></dt>
<dd><p>SQL schema for this table or view.</p>
</dd></dl>
</dd></dl>
</section>
<section id="sqlite-utils-db-table">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.db.Table"></a><span id="reference-db-table"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">sqlite_utils.db.Table</a><a class="headerlink" href="#sqlite-utils-db-table" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sqlite_utils.db.Table">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlite_utils.db.</span></span><span class="sig-name descname"><span class="pre">Table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1395"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/sqlite_utils.db.Table"></a><a class="headerlink" href="#sqlite_utils.db.Table" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sqlite_utils.db.Queryable" title="sqlite_utils.db.Queryable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queryable</span></code></a></p>
<p>Tables should usually be initialized using the <code class="docutils literal notranslate"><span class="pre">db.table(table_name)</span></code> or
<code class="docutils literal notranslate"><span class="pre">db[table_name]</span></code> methods.</p>
<p>The following optional parameters can be passed to <code class="docutils literal notranslate"><span class="pre">db.table(table_name,</span> <span class="pre">...)</span></code>:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<a class="reference internal" href="#sqlite_utils.db.Database" title="sqlite_utils.db.Database"><em>Database</em></a>) – Provided by <code class="docutils literal notranslate"><span class="pre">db.table(table_name)</span></code></p></li>
<li><p><strong>name</strong> (<em>str</em>) – Provided by <code class="docutils literal notranslate"><span class="pre">db.table(table_name)</span></code></p></li>
<li><p><strong>pk</strong> (<em>Any</em><em> | </em><em>None</em>) – Name of the primary key column, or tuple of columns</p></li>
<li><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign key definitions</p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of column names in the order they should be in the table</p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns that cannot be null</p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of column names and default values</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – Integer number of rows to insert at a time</p></li>
<li><p><strong>hash_id</strong> (<em>str</em><em> | </em><em>None</em>) – If True, use a hash of the row values as the primary key</p></li>
<li><p><strong>hash_id_columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns to use for the hash_id</p></li>
<li><p><strong>alter</strong> (<em>bool</em>) – If True, automatically alter the table if it doesn’t match the schema</p></li>
<li><p><strong>ignore</strong> (<em>bool</em>) – If True, ignore rows that already exist when inserting</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – If True, replace rows that already exist when inserting</p></li>
<li><p><strong>extracts</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Dictionary or list of column names to extract into a separate table on inserts</p></li>
<li><p><strong>conversions</strong> (<em>dict</em><em> | </em><em>None</em>) – Dictionary of column names and conversion functions</p></li>
<li><p><strong>columns</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary of column names to column types</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.last_rowid">
<span class="sig-name descname"><span class="pre">last_rowid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="dashAnchor" name="//apple_ref/cpp/Attribute/sqlite_utils.db.Table.last_rowid"></a><a class="headerlink" href="#sqlite_utils.db.Table.last_rowid" title="Link to this definition">#</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">rowid</span></code> of the last inserted, updated or selected row.</p>
</dd></dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.last_pk">
<span class="sig-name descname"><span class="pre">last_pk</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="dashAnchor" name="//apple_ref/cpp/Attribute/sqlite_utils.db.Table.last_pk"></a><a class="headerlink" href="#sqlite_utils.db.Table.last_pk" title="Link to this definition">#</a></dt>
<dd><p>The primary key of the last inserted, updated or selected row.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.count">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1471"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.count"></a><a class="headerlink" href="#sqlite_utils.db.Table.count" title="Link to this definition">#</a></dt>
<dd><p>Count of the rows in this table - optionally from the table count cache, if configured.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1479"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.exists"></a><a class="headerlink" href="#sqlite_utils.db.Table.exists" title="Link to this definition">#</a></dt>
<dd><p>Does this table or view exist yet?</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.pks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1483"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.pks"></a><a class="headerlink" href="#sqlite_utils.db.Table.pks" title="Link to this definition">#</a></dt>
<dd><p>Primary key columns for this table.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.use_rowid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">use_rowid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1491"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.use_rowid"></a><a class="headerlink" href="#sqlite_utils.db.Table.use_rowid" title="Link to this definition">#</a></dt>
<dd><p>Does this table use <code class="docutils literal notranslate"><span class="pre">rowid</span></code> for its primary key (no other primary keys are specified)?</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pk_values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1495"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.get"></a><a class="headerlink" href="#sqlite_utils.db.Table.get" title="Link to this definition">#</a></dt>
<dd><p>Return row (as dictionary) for the specified primary key.</p>
<p>Raises <code class="docutils literal notranslate"><span class="pre">sqlite_utils.db.NotFoundError</span></code> if a matching row cannot be found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pk_values</strong> (<em>list</em><em> | </em><em>tuple</em><em> | </em><em>str</em><em> | </em><em>int</em>) – A single value, or a tuple of values for tables that have a compound primary key</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.foreign_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">foreign_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ForeignKey</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1524"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.foreign_keys"></a><a class="headerlink" href="#sqlite_utils.db.Table.foreign_keys" title="Link to this definition">#</a></dt>
<dd><p>List of foreign keys defined on this table.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.virtual_table_using">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">virtual_table_using</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1543"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.virtual_table_using"></a><a class="headerlink" href="#sqlite_utils.db.Table.virtual_table_using" title="Link to this definition">#</a></dt>
<dd><p>Type of virtual table, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if this is not a virtual table.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.indexes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indexes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Index</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1551"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.indexes"></a><a class="headerlink" href="#sqlite_utils.db.Table.indexes" title="Link to this definition">#</a></dt>
<dd><p>List of indexes defined on this table.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.xindexes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">xindexes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">XIndex</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1575"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.xindexes"></a><a class="headerlink" href="#sqlite_utils.db.Table.xindexes" title="Link to this definition">#</a></dt>
<dd><p>List of indexes defined on this table using the more detailed <code class="docutils literal notranslate"><span class="pre">XIndex</span></code> format.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.triggers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">triggers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Trigger</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1594"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.triggers"></a><a class="headerlink" href="#sqlite_utils.db.Table.triggers" title="Link to this definition">#</a></dt>
<dd><p>List of triggers defined on this table.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.triggers_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">triggers_dict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1606"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.triggers_dict"></a><a class="headerlink" href="#sqlite_utils.db.Table.triggers_dict" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{trigger_name:</span> <span class="pre">sql}</span></code> dictionary of triggers defined on this table.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.default_values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_values</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1611"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.default_values"></a><a class="headerlink" href="#sqlite_utils.db.Table.default_values" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">{column_name:</span> <span class="pre">default_value}</span></code> dictionary of default values for columns in this table.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.strict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">strict</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1620"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.strict"></a><a class="headerlink" href="#sqlite_utils.db.Table.strict" title="Link to this definition">#</a></dt>
<dd><p>Is this a STRICT table?</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_not_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1626"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.create"></a><a class="headerlink" href="#sqlite_utils.db.Table.create" title="Link to this definition">#</a></dt>
<dd><p>Create a table with the specified columns.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-explicit-create"><span class="std std-ref">Explicitly creating a table</span></a> for full details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary mapping column names to their types, for example <code class="docutils literal notranslate"><span class="pre">{"name":</span> <span class="pre">str,</span> <span class="pre">"age":</span> <span class="pre">int}</span></code></p></li>
<li><p><strong>pk</strong> (<em>Any</em><em> | </em><em>None</em>) – String name of column to use as a primary key, or a tuple of strings for a compound primary key covering multiple columns</p></li>
<li><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign key definitions for this table</p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List specifying which columns should come first</p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns that should be created as <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code></p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Dictionary specifying default values for columns</p></li>
<li><p><strong>hash_id</strong> (<em>str</em><em> | </em><em>None</em>) – Name of column to be used as a primary key containing a hash of the other columns</p></li>
<li><p><strong>hash_id_columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns to be used when calculating the hash ID for a row</p></li>
<li><p><strong>extracts</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List or dictionary of columns to be extracted during inserts, see <a class="reference internal" href="python-api.html#python-api-extracts"><span class="std std-ref">Populating lookup tables automatically during insert/upsert</span></a></p></li>
<li><p><strong>if_not_exists</strong> (<em>bool</em>) – Use <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">IF</span> <span class="pre">NOT</span> <span class="pre">EXISTS</span></code></p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Drop and replace table if it already exists</p></li>
<li><p><strong>ignore</strong> (<em>bool</em>) – Silently do nothing if table already exists</p></li>
<li><p><strong>transform</strong> (<em>bool</em>) – If table already exists transform it to fit the specified schema</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.duplicate">
<span class="sig-name descname"><span class="pre">duplicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1681"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.duplicate"></a><a class="headerlink" href="#sqlite_utils.db.Table.duplicate" title="Link to this definition">#</a></dt>
<dd><p>Create a duplicate of this table, copying across the schema and all row data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_name</strong> (<em>str</em>) – Name of the new table</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">types=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_foreign_keys=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_foreign_keys=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_table=None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1697"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.transform"></a><a class="headerlink" href="#sqlite_utils.db.Table.transform" title="Link to this definition">#</a></dt>
<dd><p>Apply an advanced alter table, including operations that are not supported by
<code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span></code> in SQLite itself.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-transform"><span class="std std-ref">Transforming a table</span></a> for full details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>types</strong> (<em>dict</em><em> | </em><em>None</em>) – Columns that should have their type changed, for example <code class="docutils literal notranslate"><span class="pre">{"weight":</span> <span class="pre">float}</span></code></p></li>
<li><p><strong>rename</strong> (<em>dict</em><em> | </em><em>None</em>) – Columns to rename, for example <code class="docutils literal notranslate"><span class="pre">{"headline":</span> <span class="pre">"title"}</span></code></p></li>
<li><p><strong>drop</strong> (<em>Iterable</em><em> | </em><em>None</em>) – Columns to drop</p></li>
<li><p><strong>pk</strong> (<em>Any</em><em> | </em><em>None</em>) – New primary key for the table</p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Columns to set as <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code></p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Default values for columns</p></li>
<li><p><strong>drop_foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Names of columns that should have their foreign key constraints removed</p></li>
<li><p><strong>add_foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign keys to add to the table</p></li>
<li><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign keys to set for the table, replacing any existing foreign keys</p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of strings specifying a full or partial column order
to use when creating the table</p></li>
<li><p><strong>keep_table</strong> (<em>str</em><em> | </em><em>None</em>) – If specified, the existing table will be renamed to this and will not be
dropped</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.transform_sql">
<span class="sig-name descname"><span class="pre">transform_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">types=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_foreign_keys=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_foreign_keys=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_suffix=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_table=None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1763"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.transform_sql"></a><a class="headerlink" href="#sqlite_utils.db.Table.transform_sql" title="Link to this definition">#</a></dt>
<dd><p>Return a list of SQL statements that should be executed in order to apply this transformation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>types</strong> (<em>dict</em><em> | </em><em>None</em>) – Columns that should have their type changed, for example <code class="docutils literal notranslate"><span class="pre">{"weight":</span> <span class="pre">float}</span></code></p></li>
<li><p><strong>rename</strong> (<em>dict</em><em> | </em><em>None</em>) – Columns to rename, for example <code class="docutils literal notranslate"><span class="pre">{"headline":</span> <span class="pre">"title"}</span></code></p></li>
<li><p><strong>drop</strong> (<em>Iterable</em><em> | </em><em>None</em>) – Columns to drop</p></li>
<li><p><strong>pk</strong> (<em>Any</em><em> | </em><em>None</em>) – New primary key for the table</p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Columns to set as <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code></p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Default values for columns</p></li>
<li><p><strong>drop_foreign_keys</strong> (<em>Iterable</em><em> | </em><em>None</em>) – Names of columns that should have their foreign key constraints removed</p></li>
<li><p><strong>add_foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign keys to add to the table</p></li>
<li><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – List of foreign keys to set for the table, replacing any existing foreign keys</p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of strings specifying a full or partial column order
to use when creating the table</p></li>
<li><p><strong>tmp_suffix</strong> (<em>str</em><em> | </em><em>None</em>) – Suffix to use for the temporary table name</p></li>
<li><p><strong>keep_table</strong> (<em>str</em><em> | </em><em>None</em>) – If specified, the existing table will be renamed to this and will not be
dropped</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.extract">
<span class="sig-name descname"><span class="pre">extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fk_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L1944"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.extract"></a><a class="headerlink" href="#sqlite_utils.db.Table.extract" title="Link to this definition">#</a></dt>
<dd><p>Extract specified columns into a separate table.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-extract"><span class="std std-ref">Extracting columns into a separate table</span></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<em>str</em><em> | </em><em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Single column or list of columns that should be extracted</p></li>
<li><p><strong>table</strong> (<em>str</em><em> | </em><em>None</em>) – Name of table in which the new records should be created</p></li>
<li><p><strong>fk_column</strong> (<em>str</em><em> | </em><em>None</em>) – Name of the foreign key column to populate in the original table</p></li>
<li><p><strong>rename</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) – Dictionary of columns that should be renamed when populating the new table</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.create_index">
<span class="sig-name descname"><span class="pre">create_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_not_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">find_unique_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analyze</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2052"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.create_index"></a><a class="headerlink" href="#sqlite_utils.db.Table.create_index" title="Link to this definition">#</a></dt>
<dd><p>Create an index on this table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>DescIndex</em><em>]</em>) – A single columns or list of columns to index. These can be strings or,
to create an index using the column in descending order, <code class="docutils literal notranslate"><span class="pre">db.DescIndex(column_name)</span></code> objects.</p></li>
<li><p><strong>index_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name to use for the new index. Defaults to the column names joined on <code class="docutils literal notranslate"><span class="pre">_</span></code>.</p></li>
<li><p><strong>unique</strong> (<em>bool</em>) – Should the index be marked as unique, forcing unique values?</p></li>
<li><p><strong>if_not_exists</strong> (<em>bool</em>) – Only create the index if one with that name does not already exist.</p></li>
<li><p><strong>find_unique_name</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">index_name</span></code> is not provided and the automatically derived name
already exists, keep incrementing a suffix number to find an available name.</p></li>
<li><p><strong>analyze</strong> (<em>bool</em>) – Run <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code> against this index after creating it.</p></li>
</ul>
</dd>
</dl>
<p>See <a class="reference internal" href="python-api.html#python-api-create-index"><span class="std std-ref">Creating indexes</span></a>.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.add_column">
<span class="sig-name descname"><span class="pre">add_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fk_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2131"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.add_column"></a><a class="headerlink" href="#sqlite_utils.db.Table.add_column" title="Link to this definition">#</a></dt>
<dd><p>Add a column to this table. See <a class="reference internal" href="python-api.html#python-api-add-column"><span class="std std-ref">Adding columns</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>col_name</strong> (<em>str</em>) – Name of the new column</p></li>
<li><p><strong>col_type</strong> (<em>Any</em><em> | </em><em>None</em>) – Column type - a Python type such as <code class="docutils literal notranslate"><span class="pre">str</span></code> or a SQLite type string such as <code class="docutils literal notranslate"><span class="pre">"BLOB"</span></code></p></li>
<li><p><strong>fk</strong> (<em>str</em><em> | </em><em>None</em>) – Name of a table that this column should be a foreign key reference to</p></li>
<li><p><strong>fk_col</strong> (<em>str</em><em> | </em><em>None</em>) – Column in the foreign key table that this should reference</p></li>
<li><p><strong>not_null_default</strong> (<em>Any</em><em> | </em><em>None</em>) – Set this column to <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">null</span></code> and give it this default value</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.drop">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2184"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.drop"></a><a class="headerlink" href="#sqlite_utils.db.Table.drop" title="Link to this definition">#</a></dt>
<dd><p>Drop this table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to ignore the error if the table does not exist</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.guess_foreign_table">
<span class="sig-name descname"><span class="pre">guess_foreign_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2196"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.guess_foreign_table"></a><a class="headerlink" href="#sqlite_utils.db.Table.guess_foreign_table" title="Link to this definition">#</a></dt>
<dd><p>For a given column, suggest another table that might be referenced by this
column should it be used as a foreign key.</p>
<p>For example, a column called <code class="docutils literal notranslate"><span class="pre">tag_id</span></code> or <code class="docutils literal notranslate"><span class="pre">tag</span></code> or <code class="docutils literal notranslate"><span class="pre">tags</span></code> might suggest
a <code class="docutils literal notranslate"><span class="pre">tag</span></code> table, if one exists.</p>
<p>If no candidates can be found, raises a <code class="docutils literal notranslate"><span class="pre">NoObviousTable</span></code> exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column</strong> (<em>str</em>) – Name of column</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.add_foreign_key">
<span class="sig-name descname"><span class="pre">add_foreign_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2237"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.add_foreign_key"></a><a class="headerlink" href="#sqlite_utils.db.Table.add_foreign_key" title="Link to this definition">#</a></dt>
<dd><p>Alter the schema to mark the specified column as a foreign key to another table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – The column to mark as a foreign key.</p></li>
<li><p><strong>other_table</strong> (<em>str</em><em> | </em><em>None</em>) – The table it refers to - if omitted, will be guessed based on the column name.</p></li>
<li><p><strong>other_column</strong> (<em>str</em><em> | </em><em>None</em>) – The column on the other table it - if omitted, will be guessed.</p></li>
<li><p><strong>ignore</strong> (<em>bool</em>) – Set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> to ignore an existing foreign key - otherwise a <code class="docutils literal notranslate"><span class="pre">AlterError</span></code> will be raised.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.enable_counts">
<span class="sig-name descname"><span class="pre">enable_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2287"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.enable_counts"></a><a class="headerlink" href="#sqlite_utils.db.Table.enable_counts" title="Link to this definition">#</a></dt>
<dd><p>Set up triggers to update a cache of the count of rows in this table.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-cached-table-counts"><span class="std std-ref">Cached table counts using triggers</span></a> for details.</p>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.has_counts_triggers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_counts_triggers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2337"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.db.Table.has_counts_triggers"></a><a class="headerlink" href="#sqlite_utils.db.Table.has_counts_triggers" title="Link to this definition">#</a></dt>
<dd><p>Does this table have triggers setup to update cached counts?</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.enable_fts">
<span class="sig-name descname"><span class="pre">enable_fts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fts_version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'FTS5'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_triggers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2347"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.enable_fts"></a><a class="headerlink" href="#sqlite_utils.db.Table.enable_fts" title="Link to this definition">#</a></dt>
<dd><p>Enable SQLite full-text search against the specified columns.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-fts"><span class="std std-ref">Full-text search</span></a> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – List of column names to include in the search index.</p></li>
<li><p><strong>fts_version</strong> (<em>str</em>) – FTS version to use - defaults to <code class="docutils literal notranslate"><span class="pre">FTS5</span></code> but you may want <code class="docutils literal notranslate"><span class="pre">FTS4</span></code> for older SQLite versions.</p></li>
<li><p><strong>create_triggers</strong> (<em>bool</em>) – Should triggers be created to keep the search index up-to-date? Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>tokenize</strong> (<em>str</em><em> | </em><em>None</em>) – Custom SQLite tokenizer to use, for example <code class="docutils literal notranslate"><span class="pre">"porter"</span></code> to enable Porter stemming.</p></li>
<li><p><strong>replace</strong> (<em>bool</em>) – Should any existing FTS index for this table be replaced by the new one?</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.populate_fts">
<span class="sig-name descname"><span class="pre">populate_fts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2433"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.populate_fts"></a><a class="headerlink" href="#sqlite_utils.db.Table.populate_fts" title="Link to this definition">#</a></dt>
<dd><p>Update the associated SQLite full-text search index with the latest data from the
table for the specified columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – Columns to populate the data for</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.disable_fts">
<span class="sig-name descname"><span class="pre">disable_fts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2455"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.disable_fts"></a><a class="headerlink" href="#sqlite_utils.db.Table.disable_fts" title="Link to this definition">#</a></dt>
<dd><p>Remove any full-text search index and related triggers configured for this table.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.rebuild_fts">
<span class="sig-name descname"><span class="pre">rebuild_fts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2480"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.rebuild_fts"></a><a class="headerlink" href="#sqlite_utils.db.Table.rebuild_fts" title="Link to this definition">#</a></dt>
<dd><p>Run the <code class="docutils literal notranslate"><span class="pre">rebuild</span></code> operation against the associated full-text search index table.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.detect_fts">
<span class="sig-name descname"><span class="pre">detect_fts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2493"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.detect_fts"></a><a class="headerlink" href="#sqlite_utils.db.Table.detect_fts" title="Link to this definition">#</a></dt>
<dd><p>Detect if table has a corresponding FTS virtual table and return it</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str | None</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.optimize">
<span class="sig-name descname"><span class="pre">optimize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2520"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.optimize"></a><a class="headerlink" href="#sqlite_utils.db.Table.optimize" title="Link to this definition">#</a></dt>
<dd><p>Run the <code class="docutils literal notranslate"><span class="pre">optimize</span></code> operation against the associated full-text search index table.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.search_sql">
<span class="sig-name descname"><span class="pre">search_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2533"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.search_sql"></a><a class="headerlink" href="#sqlite_utils.db.Table.search_sql" title="Link to this definition">#</a></dt>
<dd><p>”
Return SQL string that can be used to execute searches against this table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Columns to search against</p></li>
<li><p><strong>order_by</strong> (<em>str</em><em> | </em><em>None</em>) – Column or SQL expression to sort by</p></li>
<li><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) – SQL limit</p></li>
<li><p><strong>offset</strong> (<em>int</em><em> | </em><em>None</em>) – SQL offset</p></li>
<li><p><strong>where</strong> (<em>str</em><em> | </em><em>None</em>) – Extra SQL fragment for the WHERE clause</p></li>
<li><p><strong>include_rank</strong> (<em>bool</em>) – Select the search rank column in the final query</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quote</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2611"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.search"></a><a class="headerlink" href="#sqlite_utils.db.Table.search" title="Link to this definition">#</a></dt>
<dd><p>Execute a search against this table using SQLite full-text search, returning a sequence of
dictionaries for each row.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<em>str</em>) – Terms to search for</p></li>
<li><p><strong>order_by</strong> (<em>str</em><em> | </em><em>None</em>) – Defaults to order by rank, or specify a column here.</p></li>
<li><p><strong>columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – List of columns to return, defaults to all columns.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em> | </em><em>None</em>) – Optional integer limit for returned rows.</p></li>
<li><p><strong>offset</strong> (<em>int</em><em> | </em><em>None</em>) – Optional integer SQL offset.</p></li>
<li><p><strong>where</strong> (<em>str</em><em> | </em><em>None</em>) – Extra SQL fragment for the WHERE clause</p></li>
<li><p><strong>where_args</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – Arguments to use for :param placeholders in the extra WHERE clause</p></li>
<li><p><strong>quote</strong> (<em>bool</em>) – Apply quoting to disable any special characters in the search query</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Generator</em>[dict, None, None]</p>
</dd>
</dl>
<p>See <a class="reference internal" href="python-api.html#python-api-fts-search"><span class="std std-ref">Searching with table.search()</span></a>.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pk_values</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2662"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.delete"></a><a class="headerlink" href="#sqlite_utils.db.Table.delete" title="Link to this definition">#</a></dt>
<dd><p>Delete row matching the specified primary key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pk_values</strong> (<em>list</em><em> | </em><em>tuple</em><em> | </em><em>str</em><em> | </em><em>int</em><em> | </em><em>float</em>) – A single value, or a tuple of values for tables that have a compound primary key</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.delete_where">
<span class="sig-name descname"><span class="pre">delete_where</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analyze</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2679"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.delete_where"></a><a class="headerlink" href="#sqlite_utils.db.Table.delete_where" title="Link to this definition">#</a></dt>
<dd><p>Delete rows matching the specified where clause, or delete all rows in the table.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-delete-where"><span class="std std-ref">Deleting multiple records</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>where</strong> (<em>str</em><em> | </em><em>None</em>) – SQL where fragment to use, for example <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code></p></li>
<li><p><strong>where_args</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – Parameters to use with that fragment - an iterable for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">?</span></code>
parameters, or a dictionary for <code class="docutils literal notranslate"><span class="pre">id</span> <span class="pre">&gt;</span> <span class="pre">:id</span></code></p></li>
<li><p><strong>analyze</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to run <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code> after the rows have been deleted.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pk_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2705"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.update"></a><a class="headerlink" href="#sqlite_utils.db.Table.update" title="Link to this definition">#</a></dt>
<dd><p>Execute a SQL <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> against the specified row.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-update"><span class="std std-ref">Updating a specific record</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pk_values</strong> (<em>list</em><em> | </em><em>tuple</em><em> | </em><em>str</em><em> | </em><em>int</em><em> | </em><em>float</em>) – The primary key of an individual record - can be a tuple if the
table has a compound primary key.</p></li>
<li><p><strong>updates</strong> (<em>dict</em><em> | </em><em>None</em>) – A dictionary mapping columns to their updated values.</p></li>
<li><p><strong>alter</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to add any missing columns.</p></li>
<li><p><strong>conversions</strong> (<em>dict</em><em> | </em><em>None</em>) – Optional dictionary of SQL functions to apply during the update, for example
<code class="docutils literal notranslate"><span class="pre">{"mycolumn":</span> <span class="pre">"upper(?)"}</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.convert">
<span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_false</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L2761"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.convert"></a><a class="headerlink" href="#sqlite_utils.db.Table.convert" title="Link to this definition">#</a></dt>
<dd><p>Apply conversion function <code class="docutils literal notranslate"><span class="pre">fn</span></code> to every value in the specified columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>columns</strong> (<em>str</em><em> | </em><em>List</em><em>[</em><em>str</em><em>]</em>) – A single column or list of string column names to convert.</p></li>
<li><p><strong>fn</strong> (<em>Callable</em>) – A callable that takes a single argument, <code class="docutils literal notranslate"><span class="pre">value</span></code>, and returns it converted.</p></li>
<li><p><strong>output</strong> (<em>str</em><em> | </em><em>None</em>) – Optional string column name to write the results to (defaults to the input column).</p></li>
<li><p><strong>output_type</strong> (<em>Any</em><em> | </em><em>None</em>) – If the output column needs to be created, this is the type that will be used
for the new column.</p></li>
<li><p><strong>drop</strong> (<em>bool</em>) – Should the original column be dropped once the conversion is complete?</p></li>
<li><p><strong>multi</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> the return value of <code class="docutils literal notranslate"><span class="pre">fn(value)</span></code> will be expected to be a
dictionary, and new columns will be created for each key of that dictionary.</p></li>
<li><p><strong>where</strong> (<em>str</em><em> | </em><em>None</em>) – SQL fragment to use as a <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause to limit the rows to which the conversion
is applied, for example <code class="docutils literal notranslate"><span class="pre">age</span> <span class="pre">&gt;</span> <span class="pre">?</span></code> or <code class="docutils literal notranslate"><span class="pre">age</span> <span class="pre">&gt;</span> <span class="pre">:age</span></code>.</p></li>
<li><p><strong>where_args</strong> (<em>Iterable</em><em> | </em><em>dict</em><em> | </em><em>None</em>) – List of arguments (if using <code class="docutils literal notranslate"><span class="pre">?</span></code>) or a dictionary (if using <code class="docutils literal notranslate"><span class="pre">:age</span></code>).</p></li>
<li><p><strong>show_progress</strong> (<em>bool</em>) – Should a progress bar be displayed?</p></li>
<li><p><strong>skip_false</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<p>See <a class="reference internal" href="python-api.html#python-api-convert"><span class="std std-ref">Converting data in columns</span></a>.</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alter=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversions=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3097"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.insert"></a><a class="headerlink" href="#sqlite_utils.db.Table.insert" title="Link to this definition">#</a></dt>
<dd><p>Insert a single record into the table. The table will be created with a schema that matches
the inserted record if it does not already exist, see <a class="reference internal" href="python-api.html#python-api-creating-tables"><span class="std std-ref">Creating tables</span></a>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">record</span></code> - required: a dictionary representing the record to be inserted.</p></li>
</ul>
<p>The other parameters are optional, and mostly influence how the new table will be created if
that table does not exist yet.</p>
<p>Each of them defaults to <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code>, which indicates that the default setting for the current
<code class="docutils literal notranslate"><span class="pre">Table</span></code> object (specified in the table constructor) should be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>record</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary record to be inserted</p></li>
<li><p><strong>pk</strong> – If creating the table, which column should be the primary key.</p></li>
<li><p><strong>foreign_keys</strong> – See <a class="reference internal" href="python-api.html#python-api-foreign-keys"><span class="std std-ref">Specifying foreign keys</span></a>.</p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>Default</em><em> | </em><em>None</em>) – List of strings specifying a full or partial column order
to use when creating the table.</p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>Default</em><em> | </em><em>None</em>) – Set of strings specifying columns that should be <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code>.</p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>Default</em><em> | </em><em>None</em>) – Dictionary specifying default values for specific columns.</p></li>
<li><p><strong>hash_id</strong> (<em>str</em><em> | </em><em>Default</em><em> | </em><em>None</em>) – Name of a column to create and use as a primary key, where the
value of thet primary key will be derived as a SHA1 hash of the other column values
in the record. <code class="docutils literal notranslate"><span class="pre">hash_id="id"</span></code> is a common column name used for this.</p></li>
<li><p><strong>alter</strong> (<em>bool</em><em> | </em><em>Default</em><em> | </em><em>None</em>) – Boolean, should any missing columns be added automatically?</p></li>
<li><p><strong>ignore</strong> (<em>bool</em><em> | </em><em>Default</em><em> | </em><em>None</em>) – Boolean, if a record already exists with this primary key, ignore this insert.</p></li>
<li><p><strong>replace</strong> (<em>bool</em><em> | </em><em>Default</em><em> | </em><em>None</em>) – Boolean, if a record already exists with this primary key, replace it with this new record.</p></li>
<li><p><strong>extracts</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>Default</em><em> | </em><em>None</em>) – A list of columns to extract to other tables, or a dictionary that maps
<code class="docutils literal notranslate"><span class="pre">{column_name:</span> <span class="pre">other_table_name}</span></code>. See <a class="reference internal" href="python-api.html#python-api-extracts"><span class="std std-ref">Populating lookup tables automatically during insert/upsert</span></a>.</p></li>
<li><p><strong>conversions</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Default</em><em> | </em><em>None</em>) – Dictionary specifying SQL conversion functions to be applied to the data while it
is being inserted, for example <code class="docutils literal notranslate"><span class="pre">{"name":</span> <span class="pre">"upper(?)"}</span></code>. See <a class="reference internal" href="python-api.html#python-api-conversions"><span class="std std-ref">Converting column values using SQL functions</span></a>.</p></li>
<li><p><strong>columns</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>Default</em><em> | </em><em>None</em>) – Dictionary over-riding the detected types used for the columns, for example
<code class="docutils literal notranslate"><span class="pre">{"age":</span> <span class="pre">int,</span> <span class="pre">"weight":</span> <span class="pre">float}</span></code>.</p></li>
<li><p><strong>hash_id_columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>Default</em><em> | </em><em>None</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.insert_all">
<span class="sig-name descname"><span class="pre">insert_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">records</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alter=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversions=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upsert=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analyze=False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3163"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.insert_all"></a><a class="headerlink" href="#sqlite_utils.db.Table.insert_all" title="Link to this definition">#</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">.insert()</span></code> but takes a list of records and ensures that the table
that it creates (if table does not exist) has columns for ALL of that data.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">analyze=True</span></code> to run <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code> after the insert has completed.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.upsert">
<span class="sig-name descname"><span class="pre">upsert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alter=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversions=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3295"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.upsert"></a><a class="headerlink" href="#sqlite_utils.db.Table.upsert" title="Link to this definition">#</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">.insert()</span></code> but performs an <code class="docutils literal notranslate"><span class="pre">UPSERT</span></code>, where records are inserted if they do
not exist and updated if they DO exist, based on matching against their primary key.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-upsert"><span class="std std-ref">Upserting data</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.upsert_all">
<span class="sig-name descname"><span class="pre">upsert_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">records</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hash_id_columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alter=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversions=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analyze=False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3331"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.upsert_all"></a><a class="headerlink" href="#sqlite_utils.db.Table.upsert_all" title="Link to this definition">#</a></dt>
<dd><p>Like <code class="docutils literal notranslate"><span class="pre">.upsert()</span></code> but can be applied to a list of records.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.lookup">
<span class="sig-name descname"><span class="pre">lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lookup_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'id'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extracts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3377"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.lookup"></a><a class="headerlink" href="#sqlite_utils.db.Table.lookup" title="Link to this definition">#</a></dt>
<dd><p>Create or populate a lookup table with the specified values.</p>
<p><code class="docutils literal notranslate"><span class="pre">db["Species"].lookup({"name":</span> <span class="pre">"Palm"})</span></code> will create a table called <code class="docutils literal notranslate"><span class="pre">Species</span></code>
(if one does not already exist) with two columns: <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code>. It will
set up a unique constraint on the <code class="docutils literal notranslate"><span class="pre">name</span></code> column to guarantee it will not
contain duplicate rows.</p>
<p>It will then insert a new row with the <code class="docutils literal notranslate"><span class="pre">name</span></code> set to <code class="docutils literal notranslate"><span class="pre">Palm</span></code> and return the
new integer primary key value.</p>
<p>An optional second argument can be provided with more <code class="docutils literal notranslate"><span class="pre">name:</span> <span class="pre">value</span></code> pairs to
be included only if the record is being created for the first time. These will
be ignored on subsequent lookup calls for records that already exist.</p>
<p>All other keyword arguments are passed through to <code class="docutils literal notranslate"><span class="pre">.insert()</span></code>.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-lookup-tables"><span class="std std-ref">Working with lookup tables</span></a> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lookup_values</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary specifying column names and values to use for the lookup</p></li>
<li><p><strong>extra_values</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Additional column values to be used only if creating a new record</p></li>
<li><p><strong>pk</strong> (<em>str</em><em> | </em><em>None</em>) – </p></li>
<li><p><strong>foreign_keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em> | </em><em>ForeignKey</em><em> | </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>, </em><em>str</em><em>]</em><em>] </em><em>| </em><em>None</em>) – </p></li>
<li><p><strong>column_order</strong> (<em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – </p></li>
<li><p><strong>not_null</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – </p></li>
<li><p><strong>defaults</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – </p></li>
<li><p><strong>extracts</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>List</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – </p></li>
<li><p><strong>conversions</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>] </em><em>| </em><em>None</em>) – </p></li>
<li><p><strong>columns</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.m2m">
<span class="sig-name descname"><span class="pre">m2m</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_or_iterable=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pk=&lt;sqlite_utils.db.Default</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m2m_table=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alter=False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3458"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.m2m"></a><a class="headerlink" href="#sqlite_utils.db.Table.m2m" title="Link to this definition">#</a></dt>
<dd><p>After inserting a record in a table, create one or more records in some other
table and then create many-to-many records linking the original record and the
newly created records together.</p>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>db["dogs"].insert({"id": 1, "name": "Cleo"}, pk="id").m2m(
    "humans", {"id": 1, "name": "Natalie"}, pk="id"
)
</pre></div>
</div>
<p>See <a class="reference internal" href="python-api.html#python-api-m2m"><span class="std std-ref">Working with many-to-many relationships</span></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>other_table</strong> (<em>str</em><em> | </em><a class="reference internal" href="#sqlite_utils.db.Table" title="sqlite_utils.db.Table"><em>Table</em></a>) – The name of the table to insert the new records into.</p></li>
<li><p><strong>record_or_iterable</strong> (<em>Iterable</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>] </em><em>| </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – A single dictionary record to insert, or a list of records.</p></li>
<li><p><strong>pk</strong> (<em>Any</em><em> | </em><em>Default</em><em> | </em><em>None</em>) – The primary key to use if creating <code class="docutils literal notranslate"><span class="pre">other_table</span></code>.</p></li>
<li><p><strong>lookup</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>None</em>) – Same dictionary as for <code class="docutils literal notranslate"><span class="pre">.lookup()</span></code>, to create a many-to-many lookup table.</p></li>
<li><p><strong>m2m_table</strong> (<em>str</em><em> | </em><em>None</em>) – The string name to use for the many-to-many table, defaults to creating
this automatically based on the names of the two tables.</p></li>
<li><p><strong>alter</strong> (<em>bool</em>) – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to add any missing columns on <code class="docutils literal notranslate"><span class="pre">other_table</span></code> if that table
already exists.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.analyze">
<span class="sig-name descname"><span class="pre">analyze</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3546"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.analyze"></a><a class="headerlink" href="#sqlite_utils.db.Table.analyze" title="Link to this definition">#</a></dt>
<dd><p>Run ANALYZE against this table</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.analyze_column">
<span class="sig-name descname"><span class="pre">analyze_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">common_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">most_common</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">least_common</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3550"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.analyze_column"></a><a class="headerlink" href="#sqlite_utils.db.Table.analyze_column" title="Link to this definition">#</a></dt>
<dd><p>Return statistics about the specified column.</p>
<p>See <a class="reference internal" href="python-api.html#python-api-analyze-column"><span class="std std-ref">Analyzing a column</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> (<em>str</em>) – Column to analyze</p></li>
<li><p><strong>common_limit</strong> (<em>int</em>) – Show this many column values</p></li>
<li><p><strong>value_truncate</strong> – Truncate display of common values to this many characters</p></li>
<li><p><strong>total_rows</strong> – Optimization - pass the total number of rows in the table to save running a fresh <code class="docutils literal notranslate"><span class="pre">count(*)</span></code> query</p></li>
<li><p><strong>most_common</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, calculate the most common values</p></li>
<li><p><strong>least_common</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, calculate the least common values</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sqlite_utils.db.ColumnDetails" title="sqlite_utils.db.ColumnDetails"><em>ColumnDetails</em></a></p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.add_geometry_column">
<span class="sig-name descname"><span class="pre">add_geometry_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4326</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord_dimension</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'XY'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_null</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3640"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.add_geometry_column"></a><a class="headerlink" href="#sqlite_utils.db.Table.add_geometry_column" title="Link to this definition">#</a></dt>
<dd><p>In SpatiaLite, a geometry column can only be added to an existing table.
To do so, use <code class="docutils literal notranslate"><span class="pre">table.add_geometry_column</span></code>, passing in a geometry type.</p>
<p>By default, this will add a nullable column using
<a class="reference external" href="https://spatialreference.org/ref/epsg/wgs-84/">SRID 4326</a>. This can
be customized using the <code class="docutils literal notranslate"><span class="pre">column_name</span></code>, <code class="docutils literal notranslate"><span class="pre">srid</span></code> and <code class="docutils literal notranslate"><span class="pre">not_null</span></code> arguments.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the column was successfully added, <code class="docutils literal notranslate"><span class="pre">False</span></code> if not.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlite_utils.db</span> <span class="kn">import</span> <span class="n">Database</span>
<span class="kn">from</span> <span class="nn">sqlite_utils.utils</span> <span class="kn">import</span> <span class="n">find_spatialite</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="s2">"mydb.db"</span><span class="p">)</span>
<span class="n">db</span><span class="o">.</span><span class="n">init_spatialite</span><span class="p">(</span><span class="n">find_spatialite</span><span class="p">())</span>

<span class="c1"># the table must exist before adding a geometry column</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s2">"locations"</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s2">"name"</span><span class="p">:</span> <span class="nb">str</span><span class="p">})</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_geometry_column</span><span class="p">(</span><span class="s2">"geometry"</span><span class="p">,</span> <span class="s2">"POINT"</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_name</strong> (<em>str</em>) – Name of column to add</p></li>
<li><p><strong>geometry_type</strong> (<em>str</em>) – Type of geometry column, for example <code class="docutils literal notranslate"><span class="pre">"GEOMETRY"</span></code> or <code class="docutils literal notranslate"><span class="pre">"POINT"</span> <span class="pre">or</span> <span class="pre">``"POLYGON"</span></code></p></li>
<li><p><strong>srid</strong> (<em>int</em>) – Integer SRID, defaults to 4326 for WGS84</p></li>
<li><p><strong>coord_dimension</strong> (<em>str</em>) – Dimensions to use, defaults to <code class="docutils literal notranslate"><span class="pre">"XY"</span></code> - set to <code class="docutils literal notranslate"><span class="pre">"XYZ"</span></code> to work in three dimensions</p></li>
<li><p><strong>not_null</strong> (<em>bool</em>) – Should the column be <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">NULL</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.Table.create_spatial_index">
<span class="sig-name descname"><span class="pre">create_spatial_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3691"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.Table.create_spatial_index"></a><a class="headerlink" href="#sqlite_utils.db.Table.create_spatial_index" title="Link to this definition">#</a></dt>
<dd><p>A spatial index allows for significantly faster bounding box queries.
To create one, use <code class="docutils literal notranslate"><span class="pre">create_spatial_index</span></code> with the name of an existing geometry column.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the index was successfully created, <code class="docutils literal notranslate"><span class="pre">False</span></code> if not. Calling this
function if an index already exists is a no-op.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># assuming SpatiaLite is loaded, create the table, add the column</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s2">"locations"</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">({</span><span class="s2">"name"</span><span class="p">:</span> <span class="nb">str</span><span class="p">})</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_geometry_column</span><span class="p">(</span><span class="s2">"geometry"</span><span class="p">,</span> <span class="s2">"POINT"</span><span class="p">)</span>

<span class="c1"># now we can index it</span>
<span class="n">table</span><span class="o">.</span><span class="n">create_spatial_index</span><span class="p">(</span><span class="s2">"geometry"</span><span class="p">)</span>

<span class="c1"># the spatial index is a virtual table, which we can inspect</span>
<span class="nb">print</span><span class="p">(</span><span class="n">db</span><span class="p">[</span><span class="s2">"idx_locations_geometry"</span><span class="p">]</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span>
<span class="c1"># outputs:</span>
<span class="c1"># CREATE VIRTUAL TABLE "idx_locations_geometry" USING rtree(pkid, xmin, xmax, ymin, ymax)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>column_name</strong> – Geometry column to create the spatial index against</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</section>
<section id="sqlite-utils-db-view">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.db.View"></a><span id="reference-db-view"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink">sqlite_utils.db.View</a><a class="headerlink" href="#sqlite-utils-db-view" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sqlite_utils.db.View">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlite_utils.db.</span></span><span class="sig-name descname"><span class="pre">View</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3725"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/sqlite_utils.db.View"></a><a class="headerlink" href="#sqlite_utils.db.View" title="Link to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sqlite_utils.db.Queryable" title="sqlite_utils.db.Queryable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Queryable</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.View.exists">
<span class="sig-name descname"><span class="pre">exists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3726"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.View.exists"></a><a class="headerlink" href="#sqlite_utils.db.View.exists" title="Link to this definition">#</a></dt>
<dd><p>Does this table or view exist yet?</p>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.View.drop">
<span class="sig-name descname"><span class="pre">drop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3734"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.View.drop"></a><a class="headerlink" href="#sqlite_utils.db.View.drop" title="Link to this definition">#</a></dt>
<dd><p>Drop this view.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ignore</strong> – Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to ignore the error if the view does not exist</p>
</dd>
</dl>
</dd></dl>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.db.View.enable_fts">
<span class="sig-name descname"><span class="pre">enable_fts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L3747"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.db.View.enable_fts"></a><a class="headerlink" href="#sqlite_utils.db.View.enable_fts" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">enable_fts()</span></code> is supported on tables but not on views.</p>
</dd></dl>
</dd></dl>
</section>
<section id="other">
<a class="dashAnchor" name="//apple_ref/cpp/Section/Other"></a><span id="reference-db-other"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink">Other</a><a class="headerlink" href="#other" title="Link to this heading">#</a></h2>
<section id="sqlite-utils-db-column">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.db.Column"></a><span id="reference-db-other-column"></span><h3><a class="toc-backref" href="#id6" role="doc-backlink">sqlite_utils.db.Column</a><a class="headerlink" href="#sqlite-utils-db-column" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sqlite_utils.db.Column">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlite_utils.db.</span></span><span class="sig-name descname"><span class="pre">Column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notnull</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_pk</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L82"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/sqlite_utils.db.Column"></a><a class="headerlink" href="#sqlite_utils.db.Column" title="Link to this definition">#</a></dt>
<dd><p>Describes a SQLite column returned by the  <code class="xref py py-attr docutils literal notranslate"><span class="pre">Table.columns</span></code> property.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">cid</span></code></dt><dd><p>Column index</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt><dd><p>Column name</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code></dt><dd><p>Column type</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">notnull</span></code></dt><dd><p>Does the column have a <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">null</span></code> constraint</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">default_value</span></code></dt><dd><p>Default value for this column</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">is_pk</span></code></dt><dd><p>Is this column part of the primary key</p>
</dd>
</dl>
</dd></dl>
</section>
<section id="sqlite-utils-db-columndetails">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.db.ColumnDetails"></a><span id="reference-db-other-column-details"></span><h3><a class="toc-backref" href="#id7" role="doc-backlink">sqlite_utils.db.ColumnDetails</a><a class="headerlink" href="#sqlite-utils-db-columndetails" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sqlite_utils.db.ColumnDetails">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlite_utils.db.</span></span><span class="sig-name descname"><span class="pre">ColumnDetails</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_rows</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_null</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_blank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_distinct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">most_common</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">least_common</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/db.py#L107"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/sqlite_utils.db.ColumnDetails"></a><a class="headerlink" href="#sqlite_utils.db.ColumnDetails" title="Link to this definition">#</a></dt>
<dd><p>Summary information about a column, see <a class="reference internal" href="python-api.html#python-api-analyze-column"><span class="std std-ref">Analyzing a column</span></a>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">table</span></code></dt><dd><p>The name of the table</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">column</span></code></dt><dd><p>The name of the column</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">total_rows</span></code></dt><dd><p>The total number of rows in the table</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">num_null</span></code></dt><dd><p>The number of rows for which this column is null</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">num_blank</span></code></dt><dd><p>The number of rows for which this column is blank (the empty string)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">num_distinct</span></code></dt><dd><p>The number of distinct values in this column</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">most_common</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">N</span></code> most common values as a list of <code class="docutils literal notranslate"><span class="pre">(value,</span> <span class="pre">count)</span></code> tuples, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the table consists entirely of distinct values</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">least_common</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">N</span></code> least common values as a list of <code class="docutils literal notranslate"><span class="pre">(value,</span> <span class="pre">count)</span></code> tuples, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the table is entirely distinct
or if the number of distinct values is less than N (since they will already have been returned in <code class="docutils literal notranslate"><span class="pre">most_common</span></code>)</p>
</dd>
</dl>
</dd></dl>
</section>
</section>
<section id="sqlite-utils-utils">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">sqlite_utils.utils</a><a class="headerlink" href="#sqlite-utils-utils" title="Link to this heading">#</a></h2>
<section id="sqlite-utils-utils-hash-record">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.utils.hash_record"></a><span id="reference-utils-hash-record"></span><h3><a class="toc-backref" href="#id9" role="doc-backlink">sqlite_utils.utils.hash_record</a><a class="headerlink" href="#sqlite-utils-utils-hash-record" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sqlite_utils.utils.hash_record">
<span class="sig-prename descclassname"><span class="pre">sqlite_utils.utils.</span></span><span class="sig-name descname"><span class="pre">hash_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/utils.py#L501"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Function/sqlite_utils.utils.hash_record"></a><a class="headerlink" href="#sqlite_utils.utils.hash_record" title="Link to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">record</span></code> should be a Python dictionary. Returns a sha1 hash of the
keys and values in that record.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">keys=</span></code> is provided, uses just those keys to generate the hash.</p>
<p>Example usage:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>from sqlite_utils.utils import hash_record

hashed = hash_record({"name": "Cleo", "twitter": "CleoPaws"})
# Or with the keys= option:
hashed = hash_record(
    {"name": "Cleo", "twitter": "CleoPaws", "age": 7},
    keys=("name", "twitter")
)
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>record</strong> (<em>Dict</em>) – Record to generate a hash for</p></li>
<li><p><strong>keys</strong> (<em>Iterable</em><em>[</em><em>str</em><em>] </em><em>| </em><em>None</em>) – Subset of keys to use for that hash</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</section>
<section id="sqlite-utils-utils-rows-from-file">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.utils.rows_from_file"></a><span id="reference-utils-rows-from-file"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">sqlite_utils.utils.rows_from_file</a><a class="headerlink" href="#sqlite-utils-utils-rows-from-file" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sqlite_utils.utils.rows_from_file">
<span class="sig-prename descclassname"><span class="pre">sqlite_utils.utils.</span></span><span class="sig-name descname"><span class="pre">rows_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dialect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_extras</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extras_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/utils.py#L235"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Function/sqlite_utils.utils.rows_from_file"></a><a class="headerlink" href="#sqlite_utils.utils.rows_from_file" title="Link to this definition">#</a></dt>
<dd><p>Load a sequence of dictionaries from a file-like object containing one of four different formats.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlite_utils.utils</span> <span class="kn">import</span> <span class="n">rows_from_file</span>
<span class="kn">import</span> <span class="nn">io</span>

<span class="n">rows</span><span class="p">,</span> <span class="nb">format</span> <span class="o">=</span> <span class="n">rows_from_file</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">StringIO</span><span class="p">(</span><span class="s2">"id,name</span><span class="se">\n</span><span class="s2">1,Cleo"</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">rows</span><span class="p">),</span> <span class="nb">format</span><span class="p">)</span>
<span class="c1"># Outputs [{'id': '1', 'name': 'Cleo'}] Format.CSV</span>
</pre></div>
</div>
<p>This defaults to attempting to automatically detect the format of the data, or you can pass in an
explicit format using the format= option.</p>
<p>Returns a tuple of <code class="docutils literal notranslate"><span class="pre">(rows_generator,</span> <span class="pre">format_used)</span></code> where <code class="docutils literal notranslate"><span class="pre">rows_generator</span></code> can be iterated over
to return dictionaries, while <code class="docutils literal notranslate"><span class="pre">format_used</span></code> is a value from the <code class="docutils literal notranslate"><span class="pre">sqlite_utils.utils.Format</span></code> enum:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Format</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">CSV</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">TSV</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">JSON</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">NL</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
<p>If a CSV or TSV file includes rows with more fields than are declared in the header a
<code class="docutils literal notranslate"><span class="pre">sqlite_utils.utils.RowError</span></code> exception will be raised when you loop over the generator.</p>
<p>You can instead ignore the extra data by passing <code class="docutils literal notranslate"><span class="pre">ignore_extras=True</span></code>.</p>
<p>Or pass <code class="docutils literal notranslate"><span class="pre">extras_key="rest"</span></code> to put those additional values in a list in a key called <code class="docutils literal notranslate"><span class="pre">rest</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fp</strong> (<em>BinaryIO</em>) – a file-like object containing binary data</p></li>
<li><p><strong>format</strong> (<em>Format</em><em> | </em><em>None</em>) – the format to use - omit this to detect the format</p></li>
<li><p><strong>dialect</strong> (<em>Type</em><em>[</em><em>Dialect</em><em>] </em><em>| </em><em>None</em>) – the CSV dialect to use - omit this to detect the dialect</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em> | </em><em>None</em>) – the character encoding to use when reading CSV/TSV data</p></li>
<li><p><strong>ignore_extras</strong> (<em>bool</em><em> | </em><em>None</em>) – ignore any extra fields on rows</p></li>
<li><p><strong>extras_key</strong> (<em>str</em><em> | </em><em>None</em>) – put any extra fields in a list with this key</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tuple</em>[<em>Iterable</em>[dict], <em>Format</em>]</p>
</dd>
</dl>
</dd></dl>
</section>
<section id="sqlite-utils-utils-typetracker">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.utils.TypeTracker"></a><span id="reference-utils-typetracker"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">sqlite_utils.utils.TypeTracker</a><a class="headerlink" href="#sqlite-utils-utils-typetracker" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sqlite_utils.utils.TypeTracker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sqlite_utils.utils.</span></span><span class="sig-name descname"><span class="pre">TypeTracker</span></span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/utils.py#L337"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Class/sqlite_utils.utils.TypeTracker"></a><a class="headerlink" href="#sqlite_utils.utils.TypeTracker" title="Link to this definition">#</a></dt>
<dd><p>Wrap an iterator of dictionaries and keep track of which SQLite column
types are the most likely fit for each of their keys.</p>
<p>Example usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sqlite_utils.utils</span> <span class="kn">import</span> <span class="n">TypeTracker</span>
<span class="kn">import</span> <span class="nn">sqlite_utils</span>

<span class="n">db</span> <span class="o">=</span> <span class="n">sqlite_utils</span><span class="o">.</span><span class="n">Database</span><span class="p">(</span><span class="n">memory</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">tracker</span> <span class="o">=</span> <span class="n">TypeTracker</span><span class="p">()</span>
<span class="n">rows</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">"id"</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Cleo"</span><span class="p">,</span> <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"2"</span><span class="p">,</span> <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Cardi"</span><span class="p">}]</span>
<span class="n">db</span><span class="p">[</span><span class="s2">"creatures"</span><span class="p">]</span><span class="o">.</span><span class="n">insert_all</span><span class="p">(</span><span class="n">tracker</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">rows</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tracker</span><span class="o">.</span><span class="n">types</span><span class="p">)</span>
<span class="c1"># Outputs {'id': 'integer', 'name': 'text'}</span>
<span class="n">db</span><span class="p">[</span><span class="s2">"creatures"</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">types</span><span class="o">=</span><span class="n">tracker</span><span class="o">.</span><span class="n">types</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sqlite_utils.utils.TypeTracker.wrap">
<span class="sig-name descname"><span class="pre">wrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterator</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/utils.py#L361"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Method/sqlite_utils.utils.TypeTracker.wrap"></a><a class="headerlink" href="#sqlite_utils.utils.TypeTracker.wrap" title="Link to this definition">#</a></dt>
<dd><p>Use this to loop through an existing iterator, tracking the column types
as part of the iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>iterator</strong> (<em>Iterable</em><em>[</em><em>dict</em><em>]</em>) – The iterator to wrap</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Iterable</em>[dict]</p>
</dd>
</dl>
</dd></dl>
<dl class="py property">
<dt class="sig sig-object py" id="sqlite_utils.utils.TypeTracker.types">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/utils.py#L375"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Property/sqlite_utils.utils.TypeTracker.types"></a><a class="headerlink" href="#sqlite_utils.utils.TypeTracker.types" title="Link to this definition">#</a></dt>
<dd><p>A dictionary mapping column names to their detected types. This can be passed
to the <code class="docutils literal notranslate"><span class="pre">db[table_name].transform(types=tracker.types)</span></code> method.</p>
</dd></dl>
</dd></dl>
</section>
<section id="sqlite-utils-utils-chunks">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.utils.chunks"></a><span id="reference-utils-chunks"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">sqlite_utils.utils.chunks</a><a class="headerlink" href="#sqlite-utils-utils-chunks" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sqlite_utils.utils.chunks">
<span class="sig-prename descclassname"><span class="pre">sqlite_utils.utils.</span></span><span class="sig-name descname"><span class="pre">chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/utils.py#L489"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Function/sqlite_utils.utils.chunks"></a><a class="headerlink" href="#sqlite_utils.utils.chunks" title="Link to this definition">#</a></dt>
<dd><p>Iterate over chunks of the sequence of the given size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> (<em>Iterable</em>) – Any Python iterator</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The size of each chunk</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Iterable</em>[<em>Iterable</em>]</p>
</dd>
</dl>
</dd></dl>
</section>
<section id="sqlite-utils-utils-flatten">
<a class="dashAnchor" name="//apple_ref/cpp/Section/sqlite_utils.utils.flatten"></a><span id="reference-utils-flatten"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink">sqlite_utils.utils.flatten</a><a class="headerlink" href="#sqlite-utils-utils-flatten" title="Link to this heading">#</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sqlite_utils.utils.flatten">
<span class="sig-prename descclassname"><span class="pre">sqlite_utils.utils.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/simonw/sqlite-utils/blob/88bd37220593f46ad2221601d6724dd0198400ad/sqlite_utils/utils.py#L541"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="dashAnchor" name="//apple_ref/cpp/Function/sqlite_utils.utils.flatten"></a><a class="headerlink" href="#sqlite_utils.utils.flatten" title="Link to this definition">#</a></dt>
<dd><p>Turn a nested dict e.g. <code class="docutils literal notranslate"><span class="pre">{"a":</span> <span class="pre">{"b":</span> <span class="pre">1}}</span></code> into a flat dict: <code class="docutils literal notranslate"><span class="pre">{"a_b":</span> <span class="pre">1}</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>row</strong> (<em>dict</em>) – A Python dictionary, optionally with nested dictionaries</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>
</section>
</section>
</section>
</article>
</div>
<footer>
<div class="related-pages">
<a class="next-page" href="cli-reference.html">
<div class="page-info">
<div class="context">
<span>Next</span>
</div>
<div class="title">CLI reference</div>
</div>
<svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
</a>
<a class="prev-page" href="plugins.html">
<svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
<div class="page-info">
<div class="context">
<span>Previous</span>
</div>
<div class="title">Plugins</div>
</div>
</a>
</div>
<div class="bottom-of-page">
<div class="left-details">
<div class="copyright">
                Copyright © 2018-2022, Simon Willison
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
</div>
<div class="right-details">
</div>
</div>
</footer>
</div>
<aside class="toc-drawer">
<div class="toc-sticky toc-scroll">
<div class="toc-title-container">
<span class="toc-title">
            On this page
          </span>
</div>
<div class="toc-tree-container">
<div class="toc-tree">
<ul>
<li><a class="reference internal" href="#">API reference</a><ul>
<li><a class="reference internal" href="#sqlite-utils-db-database">sqlite_utils.db.Database</a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.Database"><code class="docutils literal notranslate"><span class="pre">Database</span></code></a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.Database.close"><code class="docutils literal notranslate"><span class="pre">Database.close()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.ensure_autocommit_off"><code class="docutils literal notranslate"><span class="pre">Database.ensure_autocommit_off()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.tracer"><code class="docutils literal notranslate"><span class="pre">Database.tracer()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.__getitem__"><code class="docutils literal notranslate"><span class="pre">Database.__getitem__()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.register_function"><code class="docutils literal notranslate"><span class="pre">Database.register_function()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.register_fts4_bm25"><code class="docutils literal notranslate"><span class="pre">Database.register_fts4_bm25()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.attach"><code class="docutils literal notranslate"><span class="pre">Database.attach()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.query"><code class="docutils literal notranslate"><span class="pre">Database.query()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.execute"><code class="docutils literal notranslate"><span class="pre">Database.execute()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.executescript"><code class="docutils literal notranslate"><span class="pre">Database.executescript()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.table"><code class="docutils literal notranslate"><span class="pre">Database.table()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.quote"><code class="docutils literal notranslate"><span class="pre">Database.quote()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.quote_fts"><code class="docutils literal notranslate"><span class="pre">Database.quote_fts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.quote_default_value"><code class="docutils literal notranslate"><span class="pre">Database.quote_default_value()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.table_names"><code class="docutils literal notranslate"><span class="pre">Database.table_names()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.view_names"><code class="docutils literal notranslate"><span class="pre">Database.view_names()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.tables"><code class="docutils literal notranslate"><span class="pre">Database.tables</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.views"><code class="docutils literal notranslate"><span class="pre">Database.views</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.triggers"><code class="docutils literal notranslate"><span class="pre">Database.triggers</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.triggers_dict"><code class="docutils literal notranslate"><span class="pre">Database.triggers_dict</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.schema"><code class="docutils literal notranslate"><span class="pre">Database.schema</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.supports_strict"><code class="docutils literal notranslate"><span class="pre">Database.supports_strict</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.sqlite_version"><code class="docutils literal notranslate"><span class="pre">Database.sqlite_version</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.journal_mode"><code class="docutils literal notranslate"><span class="pre">Database.journal_mode</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.enable_wal"><code class="docutils literal notranslate"><span class="pre">Database.enable_wal()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.disable_wal"><code class="docutils literal notranslate"><span class="pre">Database.disable_wal()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.enable_counts"><code class="docutils literal notranslate"><span class="pre">Database.enable_counts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.cached_counts"><code class="docutils literal notranslate"><span class="pre">Database.cached_counts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.reset_counts"><code class="docutils literal notranslate"><span class="pre">Database.reset_counts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.create_table_sql"><code class="docutils literal notranslate"><span class="pre">Database.create_table_sql()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.create_table"><code class="docutils literal notranslate"><span class="pre">Database.create_table()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.rename_table"><code class="docutils literal notranslate"><span class="pre">Database.rename_table()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.create_view"><code class="docutils literal notranslate"><span class="pre">Database.create_view()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.m2m_table_candidates"><code class="docutils literal notranslate"><span class="pre">Database.m2m_table_candidates()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.add_foreign_keys"><code class="docutils literal notranslate"><span class="pre">Database.add_foreign_keys()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.index_foreign_keys"><code class="docutils literal notranslate"><span class="pre">Database.index_foreign_keys()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.vacuum"><code class="docutils literal notranslate"><span class="pre">Database.vacuum()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.analyze"><code class="docutils literal notranslate"><span class="pre">Database.analyze()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.iterdump"><code class="docutils literal notranslate"><span class="pre">Database.iterdump()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Database.init_spatialite"><code class="docutils literal notranslate"><span class="pre">Database.init_spatialite()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-db-queryable">sqlite_utils.db.Queryable</a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable"><code class="docutils literal notranslate"><span class="pre">Queryable</span></code></a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.exists"><code class="docutils literal notranslate"><span class="pre">Queryable.exists()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.count_where"><code class="docutils literal notranslate"><span class="pre">Queryable.count_where()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.count"><code class="docutils literal notranslate"><span class="pre">Queryable.count</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.rows"><code class="docutils literal notranslate"><span class="pre">Queryable.rows</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.rows_where"><code class="docutils literal notranslate"><span class="pre">Queryable.rows_where()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.pks_and_rows_where"><code class="docutils literal notranslate"><span class="pre">Queryable.pks_and_rows_where()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.columns"><code class="docutils literal notranslate"><span class="pre">Queryable.columns</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.columns_dict"><code class="docutils literal notranslate"><span class="pre">Queryable.columns_dict</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Queryable.schema"><code class="docutils literal notranslate"><span class="pre">Queryable.schema</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-db-table">sqlite_utils.db.Table</a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.Table"><code class="docutils literal notranslate"><span class="pre">Table</span></code></a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.Table.last_rowid"><code class="docutils literal notranslate"><span class="pre">Table.last_rowid</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.last_pk"><code class="docutils literal notranslate"><span class="pre">Table.last_pk</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.count"><code class="docutils literal notranslate"><span class="pre">Table.count</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.exists"><code class="docutils literal notranslate"><span class="pre">Table.exists()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.pks"><code class="docutils literal notranslate"><span class="pre">Table.pks</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.use_rowid"><code class="docutils literal notranslate"><span class="pre">Table.use_rowid</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.get"><code class="docutils literal notranslate"><span class="pre">Table.get()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.foreign_keys"><code class="docutils literal notranslate"><span class="pre">Table.foreign_keys</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.virtual_table_using"><code class="docutils literal notranslate"><span class="pre">Table.virtual_table_using</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.indexes"><code class="docutils literal notranslate"><span class="pre">Table.indexes</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.xindexes"><code class="docutils literal notranslate"><span class="pre">Table.xindexes</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.triggers"><code class="docutils literal notranslate"><span class="pre">Table.triggers</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.triggers_dict"><code class="docutils literal notranslate"><span class="pre">Table.triggers_dict</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.default_values"><code class="docutils literal notranslate"><span class="pre">Table.default_values</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.strict"><code class="docutils literal notranslate"><span class="pre">Table.strict</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.create"><code class="docutils literal notranslate"><span class="pre">Table.create()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.duplicate"><code class="docutils literal notranslate"><span class="pre">Table.duplicate()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.transform"><code class="docutils literal notranslate"><span class="pre">Table.transform()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.transform_sql"><code class="docutils literal notranslate"><span class="pre">Table.transform_sql()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.extract"><code class="docutils literal notranslate"><span class="pre">Table.extract()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.create_index"><code class="docutils literal notranslate"><span class="pre">Table.create_index()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.add_column"><code class="docutils literal notranslate"><span class="pre">Table.add_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.drop"><code class="docutils literal notranslate"><span class="pre">Table.drop()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.guess_foreign_table"><code class="docutils literal notranslate"><span class="pre">Table.guess_foreign_table()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.add_foreign_key"><code class="docutils literal notranslate"><span class="pre">Table.add_foreign_key()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.enable_counts"><code class="docutils literal notranslate"><span class="pre">Table.enable_counts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.has_counts_triggers"><code class="docutils literal notranslate"><span class="pre">Table.has_counts_triggers</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.enable_fts"><code class="docutils literal notranslate"><span class="pre">Table.enable_fts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.populate_fts"><code class="docutils literal notranslate"><span class="pre">Table.populate_fts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.disable_fts"><code class="docutils literal notranslate"><span class="pre">Table.disable_fts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.rebuild_fts"><code class="docutils literal notranslate"><span class="pre">Table.rebuild_fts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.detect_fts"><code class="docutils literal notranslate"><span class="pre">Table.detect_fts()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.optimize"><code class="docutils literal notranslate"><span class="pre">Table.optimize()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.search_sql"><code class="docutils literal notranslate"><span class="pre">Table.search_sql()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.search"><code class="docutils literal notranslate"><span class="pre">Table.search()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.delete"><code class="docutils literal notranslate"><span class="pre">Table.delete()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.delete_where"><code class="docutils literal notranslate"><span class="pre">Table.delete_where()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.update"><code class="docutils literal notranslate"><span class="pre">Table.update()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.convert"><code class="docutils literal notranslate"><span class="pre">Table.convert()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.insert"><code class="docutils literal notranslate"><span class="pre">Table.insert()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.insert_all"><code class="docutils literal notranslate"><span class="pre">Table.insert_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.upsert"><code class="docutils literal notranslate"><span class="pre">Table.upsert()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.upsert_all"><code class="docutils literal notranslate"><span class="pre">Table.upsert_all()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.lookup"><code class="docutils literal notranslate"><span class="pre">Table.lookup()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.m2m"><code class="docutils literal notranslate"><span class="pre">Table.m2m()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.analyze"><code class="docutils literal notranslate"><span class="pre">Table.analyze()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.analyze_column"><code class="docutils literal notranslate"><span class="pre">Table.analyze_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.add_geometry_column"><code class="docutils literal notranslate"><span class="pre">Table.add_geometry_column()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.Table.create_spatial_index"><code class="docutils literal notranslate"><span class="pre">Table.create_spatial_index()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-db-view">sqlite_utils.db.View</a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.View"><code class="docutils literal notranslate"><span class="pre">View</span></code></a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.View.exists"><code class="docutils literal notranslate"><span class="pre">View.exists()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.View.drop"><code class="docutils literal notranslate"><span class="pre">View.drop()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.db.View.enable_fts"><code class="docutils literal notranslate"><span class="pre">View.enable_fts()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#other">Other</a><ul>
<li><a class="reference internal" href="#sqlite-utils-db-column">sqlite_utils.db.Column</a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.Column"><code class="docutils literal notranslate"><span class="pre">Column</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-db-columndetails">sqlite_utils.db.ColumnDetails</a><ul>
<li><a class="reference internal" href="#sqlite_utils.db.ColumnDetails"><code class="docutils literal notranslate"><span class="pre">ColumnDetails</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-utils">sqlite_utils.utils</a><ul>
<li><a class="reference internal" href="#sqlite-utils-utils-hash-record">sqlite_utils.utils.hash_record</a><ul>
<li><a class="reference internal" href="#sqlite_utils.utils.hash_record"><code class="docutils literal notranslate"><span class="pre">hash_record()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-utils-rows-from-file">sqlite_utils.utils.rows_from_file</a><ul>
<li><a class="reference internal" href="#sqlite_utils.utils.rows_from_file"><code class="docutils literal notranslate"><span class="pre">rows_from_file()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-utils-typetracker">sqlite_utils.utils.TypeTracker</a><ul>
<li><a class="reference internal" href="#sqlite_utils.utils.TypeTracker"><code class="docutils literal notranslate"><span class="pre">TypeTracker</span></code></a><ul>
<li><a class="reference internal" href="#sqlite_utils.utils.TypeTracker.wrap"><code class="docutils literal notranslate"><span class="pre">TypeTracker.wrap()</span></code></a></li>
<li><a class="reference internal" href="#sqlite_utils.utils.TypeTracker.types"><code class="docutils literal notranslate"><span class="pre">TypeTracker.types</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-utils-chunks">sqlite_utils.utils.chunks</a><ul>
<li><a class="reference internal" href="#sqlite_utils.utils.chunks"><code class="docutils literal notranslate"><span class="pre">chunks()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#sqlite-utils-utils-flatten">sqlite_utils.utils.flatten</a><ul>
<li><a class="reference internal" href="#sqlite_utils.utils.flatten"><code class="docutils literal notranslate"><span class="pre">flatten()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</aside>
</div>
</div>
<script src="_static/documentation_options.js?v=232d8d97"></script>
<script src="_static/doctools.js?v=888ff710"></script>
<script src="_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="_static/scripts/furo.js?v=32e29ea5"></script>
<script src="_static/clipboard.min.js?v=a7894cd8"></script>
<script src="_static/copybutton.js?v=f281be69"></script>
<script src="_static/js/custom.js?v=6323a214"></script>
<style type="text/css">
.highlight-output .highlight {
  border-left: 9px solid #30c94f;
}
</style>
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Show banner linking to /stable/ if this is a /latest/ page
  if (!/\/latest\//.test(location.pathname)) {
    return;
  }
  var stableUrl = location.pathname.replace("/latest/", "/stable/");
  // Check it's not a 404
  fetch(stableUrl, { method: "HEAD" }).then((response) => {
    if (response.status === 200) {
      var warning = document.createElement("div");
      warning.className = "admonition warning";
      warning.innerHTML = `
        <p class="first admonition-title">Note</p>
        <p class="last">
          This documentation covers the <strong>development version</strong> of Datasette.
        </p>
        <p>
          See <a href="${stableUrl}">this page</a> for the current stable release.
        </p>
      `;
      var mainArticle = document.querySelector("article[role=main]");
      mainArticle.insertBefore(warning, mainArticle.firstChild);
    }
  });
});
</script>
</body>
</html>